<?xml version="1.0"?>
<testCase version="8.5.0.202103021747">
    <general>
        <documentation>Velocity Nested Orchestration Examples</documentation>
        <notes>This example driver can be used to develop an understanding of &apos;orchestrated resources&apos; in Velocity. Upon activation, it instantiates the orchestrated resources in the topology, creates their ports, switch ports and connections. For Velocity selected resources, it initiates the resources selected for the reservation. Upon de-activation, it removes the connections, switch ports, ports, and orchestrated resources. For Velocity selected resources, it terminates the resources selected for the reservation.</notes>
        <language>Python</language>
    </general>
    <testbed>project://ri_NestedOrchestrationExample/O2.tbml</testbed>
    <procedures>
        <item name="main">
            <steps>
                <item guid="c2aa064a-2d7f-4a7f-bcfa-d1a35f2676b3" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Information:Call procedure</body>
                    </command>
                    <nestedSteps>
                        <item guid="5302cb1d-b98a-4631-b994-f8d899a83e35" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>The file_uriToPath function explodes the contents of the entire project into a tmp directory on the agent. This is necessary in order for the Python automation to gain access to modules. If you rename this project, make sure to rename the line below.</body>
                            </command>
                            <nestedSteps>
                                <item guid="f7fd64d1-bdfa-4d58-89f1-85257bf4618a" action="eval" skip="true" useFieldsInCommand="false">
                                    <command>
                                        <body>print(file_uriToPath(&apos;project://VMwareCloneVmFromTemplate&apos;))</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="09e1525a-a478-426b-89e3-1d3ba8ec9cd2" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Run each procedure call listed as a parameter</body>
                            </command>
                            <nestedSteps>
                                <item guid="f4f593c1-4f0f-4146-b055-da78814d90eb" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>i = 0</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="58945922-d252-4555-b0d0-7cac1c894bb1" action="while" useFieldsInCommand="false">
                                    <command>
                                        <body>i &lt; int(param(&apos;call_count&apos;)):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="a2d2f6b0-32e7-49df-9bb8-37a038b524ad" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>proc_name = &apos;call_{0}&apos;.format(i)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="5a35650f-ffd3-40a0-900b-ae00f007d826" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Information:Calling [param(proc_name)]</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="ad328930-7cf8-4940-955b-463912aaeb38" action="call">
                                                    <command>
                                                        <body>[param(proc_name)]</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>response</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <emulation>
                                                        <behavior>
                                                            <responseType>text</responseType>
                                                            <structuredData>
&lt;structure xmlns:map=&quot;http://www.fnfr.com/svt/mapping&quot;&gt;
    &lt;isEmpty&gt;true&lt;/isEmpty&gt;
    &lt;responseLine/&gt;
&lt;/structure&gt;
</structuredData>
                                                            <aliases>
                                                                <item name="isEmpty">
                                                                    <queryFormatString>.//isEmpty</queryFormatString>
                                                                </item>
                                                                <item name="responseLine">
                                                                    <queryFormatString>.//responseLine</queryFormatString>
                                                                </item>
                                                            </aliases>
                                                        </behavior>
                                                    </emulation>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <message inherit="false">Calling [param(proc_name)]</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="8ff843cf-3c4c-407f-8185-9d068c426fd6" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>i = i + 1</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a1d0caea-6787-4c4c-9a4a-ec965f72bf31" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Pass test case if not already failed</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="none">
                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>1 == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a9fd893e-419e-4dff-b7e1-f3abfada94bc" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Return JSON response to Velocity</body>
                            </command>
                            <nestedSteps>
                                <item guid="47d9e785-78e1-40a1-89df-2ab039bfd0d9" action="return">
                                    <command>
                                        <body>[response]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <response>{}</response>
        </item>
        <item name="getConfig" isPublic="true">
            <steps>
                <item guid="4cf4bcb5-a2c2-457d-babd-e2f1ba5f2c56" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Uploads the resource&apos;s configuration file to a URL provided</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Name: getConfig

Description: Uploads the resource&apos;s configuration file to a URL provided

Arguments
• url - target URL for the configuration file

examples:
getConfig tftp://10.1.1.1/config.txt
getConfig -url tftp://10.1.1.1/config.txt

Returns: file size in bytes</multilineDescription>
        </item>
        <item name="getImage" isPublic="true">
            <steps>
                <item guid="f1a25edd-2046-4c4d-bc7f-737a9ff3dc98" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Uploads the resource&apos;s image file to a URL provided</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Name: getImage
Description: Uploads the resource&apos;s image file to a URL provided

Arguments:
• url - target URL for the image file

examples:
getImage tftp://10.1.1.1/image.bin
getImage -url tftp://10.1.1.1/image.bin


Returns: file size in bytes</multilineDescription>
        </item>
        <item name="getPorts">
            <steps>
                <item guid="ddd56089-c04c-4ffb-bf5a-d39eb790fee4" action="open" session="proc" useFieldsInCommand="false">
                    <command>
                        <body>application:com.fnfr.svt.applications.process</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                        <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        <sessionProperties type="com.fnfr.svt.applications.process.ProcessSessionProperties"/>
                        <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    </applicationProperties>
                    <emulation>
                        <behavior>
                            <responseType>text</responseType>
                            <structuredData>
&lt;structure xmlns:map=&quot;http://www.fnfr.com/svt/mapping&quot;&gt;
    &lt;isEmpty&gt;true&lt;/isEmpty&gt;
    &lt;responseLine/&gt;
&lt;/structure&gt;
</structuredData>
                            <aliases>
                                <item name="isEmpty">
                                    <queryFormatString>.//isEmpty</queryFormatString>
                                </item>
                                <item name="responseLine">
                                    <queryFormatString>.//responseLine</queryFormatString>
                                </item>
                            </aliases>
                        </behavior>
                    </emulation>
                </item>
                <item guid="ccb16d40-443e-49fb-9f2e-9fa67599685a" action="if" useFieldsInCommand="false">
                    <command>
                        <body>info(&apos;platform&apos;) == &quot;windows&quot;:</body>
                    </command>
                    <nestedSteps>
                        <item guid="611ccdc0-9cc3-4336-ad31-af0b02c4754c" action="command" session="proc">
                            <command>
                                <body>run ping -n 1 [param(&apos;property_ipAddress&apos;)]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>exit_code</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>int(value) == 0</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>success=True</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>{auto_message_false}</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>success=False</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="2d6cd6c2-33c5-4285-bcf6-f96f7e2fb39a" action="else" useFieldsInCommand="false">
                    <nestedSteps>
                        <item guid="56fb6d4d-dfe3-4b11-8332-74ad4e7c3f12" action="command" session="proc">
                            <command>
                                <body>run ping -c 1 [param(&apos;property_ipAddress&apos;)]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>exit_code</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>int(value) == 0</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>success=True</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>{auto_message_false}</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>success=False</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <emulation>
                                <behavior>
                                    <responseType>text</responseType>
                                    <structuredData>
&lt;structure xmlns:map=&quot;http://www.fnfr.com/svt/mapping&quot;&gt;
    &lt;isEmpty&gt;true&lt;/isEmpty&gt;
    &lt;responseLine/&gt;
&lt;/structure&gt;
</structuredData>
                                    <aliases>
                                        <item name="isEmpty">
                                            <queryFormatString>.//isEmpty</queryFormatString>
                                        </item>
                                        <item name="responseLine">
                                            <queryFormatString>.//responseLine</queryFormatString>
                                        </item>
                                    </aliases>
                                </behavior>
                            </emulation>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="dbe8cceb-b6af-4bb9-8dc4-df78ddb222a2" action="if" useFieldsInCommand="false">
                    <command>
                        <body>success:</body>
                    </command>
                    <nestedSteps>
                        <item guid="07ebb88f-d296-4a5b-8553-143f97c857cb" action="return" useFieldsInCommand="false">
                            <command>
                                <body>{&quot;ports&quot;:[]}</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
        </item>
        <item name="getProperties" isPublic="true">
            <steps>
                <item guid="7919be6a-e566-4773-86ae-96096035215f" action="json" useFieldsInCommand="false">
                    <command>
                        <body>action=&apos;createJson&apos;, documentName=&apos;response&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{&quot;ports&quot;:[],&quot;properties&quot;:[]}&apos;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                        <action inherit="false">createJson</action>
                        <jsonString inherit="false">{&quot;ports&quot;:[],&quot;properties&quot;:[]}</jsonString>
                        <documentName inherit="false">response</documentName>
                    </applicationProperties>
                </item>
                <item guid="1c09373c-e06d-43fa-bb93-8ca4aeef40b9" action="return">
                    <command>
                        <body>[response]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="includePorts">
                    <description>true or false; currently stubbed out</description>
                    <defaultValue>false</defaultValue>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="setConfig" isPublic="true">
            <steps>
                <item guid="36591311-0198-4fd0-9b33-64ef7433b4e9" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Sets the resource&apos;s configuration using a specified configuration file</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Name: setConfig

Description: Sets the resource&apos;s configuration using a specified configuration file

Arguments:
• fileSize - length of file in bytes
• url - configuration file URL

examples:
setConfig 0 tftp://10.1.1.1/config.txt
setConfig -fileSize 0 -url tftp://10.1.1.1/config.txt

Returns: nothing</multilineDescription>
        </item>
        <item name="setImage" isPublic="true">
            <steps>
                <item guid="bacbfb17-ba4f-44d4-a58c-f730b285bba9" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Sets the resource&apos;s software image using a specified image file</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Name: setImage

Description: Sets the resource&apos;s software image using a specified image file

Arguments:
• fileSize - length of file in bytes
• url - image file URL

examples:
setImage 0 tftp://10.1.1.1/image.bin
setImage -fileSize 0 -url tftp://10.1.1.1/image.bin

Returns: nothing</multilineDescription>
        </item>
        <item name="initOrchestratedResource" isPublic="true">
            <steps>
                <item guid="e92e35b1-3468-4209-a35b-d3b06b33e921" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Run during topology activation on orchestrated resources with interface type “orchestration”</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="6a5405df-91cf-4d25-b9ea-444cc844f3cb" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Apply the resource&apos;s configuration if specified in the reservation. This example driver expects https://httpbin.org/anything</body>
                    </command>
                    <nestedSteps>
                        <item guid="078486cb-2b7b-4ee1-a72a-26c7352ac931" action="call" useFieldsInCommand="false">
                            <command>
                                <body>getConfigurationFile -reservationId [velocity(&quot;reservationId&quot;)] -init_topologyResourceId [param(&apos;topologyResourceId&apos;)] -url [velocity(&quot;url&quot;)] -token [velocity(&quot;token&quot;)]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>ConfigFile()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>ConfigFile</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>ConfigFile()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>Configuration file to use is: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="879caf8f-420b-4d5a-9c26-e90adfb82261" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>configURL = &quot;none&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="5cbb2057-ff32-49a2-9856-15fb92371e1e" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>traceId = &quot;none&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="92d11da0-33d6-4a20-9815-ea74d53b0876" action="if" useFieldsInCommand="false">
                            <command>
                                <body>ConfigFile != &quot;none&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="d3eb8397-173f-43fb-9f18-41e0b79dd77e" action="readFile">
                                    <command>
                                        <body>[ConfigFile]</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>mapped/Json/url</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>configURL</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>mapped/Json/headers/X-Amzn-Trace-Id</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>traceId</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.ReadFilePropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="57585df0-2aa3-4485-a31a-f9774b7767fc" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Velocity always passes the topologyResourceId as a parameter. It may be useful if this driver needs to parse the TBML and find this ID in the structure.</body>
                    </command>
                    <nestedSteps>
                        <item guid="11a82841-e9b5-476c-aac7-59ec589bdb9c" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(param(&apos;topologyResourceId&apos;))</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>responseLine</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>Topology resource Id: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="e2c9654a-b4a7-4512-ab09-60c48cb6c756" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Velocity passes property values specified in this driver&apos;s manifest.xml file. They arrive as parameters prepended with the string &quot;property_&quot;.</body>
                    </command>
                    <nestedSteps>
                        <item guid="4d3e0ae3-35cd-42da-b35e-4f4897fec0ca" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(param(&apos;property_property_toDriver&apos;))</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>responseLine</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>toDriver property value from Velocity: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="868c08f8-6e20-4787-88ba-1cf10e5cf14e" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(param(&apos;property_ipAddress&apos;))</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>responseLine</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>ipAddress property value from Velocity: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="9d58af82-d57c-4637-835f-fb6c8cdf7962" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Display the name of the orchestrated device - the entire toplogy TBML structure is available in the context of this driver execution.</body>
                    </command>
                    <nestedSteps>
                        <item guid="75456c94-64a2-4c38-afc5-772601488bac" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>resourceName=tbml(&apos;property&apos;, &apos;-id&apos;, param(&apos;topologyResourceId&apos;), &apos;name&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="39ee6250-63ff-4891-9efb-21b06ed51896" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(resourceName)</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>responseLine</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>Resource name: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="49291904-9490-424a-9b58-99795e45e133" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Create the base of the JSON response</body>
                    </command>
                    <nestedSteps>
                        <item guid="c4ebb4d7-9b1b-41f2-bf97-03757d09e739" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;createJson&apos;, documentName=&apos;response&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{&quot;properties&quot;:{&quot;property_fromDriver&quot;:&quot;bar&quot;,&quot;ipAddress&quot;:&quot;127.0.0.1&quot;}}&apos;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">createJson</action>
                                <jsonString inherit="false">{&quot;properties&quot;:{&quot;property_fromDriver&quot;:&quot;bar&quot;,&quot;ipAddress&quot;:&quot;127.0.0.1&quot;}}</jsonString>
                                <documentName inherit="false">response</documentName>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="320693fe-fa6d-48d1-9d9b-814af850f0a3" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Add a JSON document to describe &quot;Reservation Properties&quot; - These will be available in the TBML and displayed in the Velocity topology viewer in the reservation.</body>
                    </command>
                    <nestedSteps>
                        <item guid="43fb6e2c-2a4e-4760-89cc-406d2f6f86c0" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;createJson&apos;, documentName=&apos;reservationProperties&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{&quot;reservationProperties&quot;:{&quot;ReturnedProperty2&quot;:&quot;Hello, World! 1&quot;,&quot;ReturnedProperty1&quot;:&quot;Hello, World! 2&quot;,&quot;configURL&quot;:&quot;[configURL]&quot;,&quot;traceId&quot;:&quot;[traceId]&quot;}}&apos;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">createJson</action>
                                <jsonString inherit="false" sub="true">{&quot;reservationProperties&quot;:{&quot;ReturnedProperty2&quot;:&quot;Hello, World! 1&quot;,&quot;ReturnedProperty1&quot;:&quot;Hello, World! 2&quot;,&quot;configURL&quot;:&quot;[configURL]&quot;,&quot;traceId&quot;:&quot;[traceId]&quot;}}</jsonString>
                                <documentName inherit="false">reservationProperties</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="01c77555-5210-40cc-a182-778d3a16f1be" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;response&apos;, pathValue=&apos;{&quot;/&quot;:[reservationProperties]}&apos;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">addJsonNode</action>
                                <pathValue inherit="false" sub="true">{&quot;/&quot;:[reservationProperties]}</pathValue>
                                <documentName inherit="false">response</documentName>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="3d1aa155-6232-4ba0-a22b-a0edd65da5a4" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Query the TBML for the ports associated with the topolgyResourceID</body>
                    </command>
                    <nestedSteps>
                        <item guid="fae1afb9-6385-4813-89e6-1ce2bd0ffad5" action="dumpState" useFieldsInCommand="false">
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                <query sub="true">//resource\\[@id=&apos;[param(&apos;topologyResourceId&apos;)]&apos;]/resource\\[@type=&apos;port&apos;]/property\\[@name=&apos;name&apos;]/@value</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>portList</storageLocation>
                                                <storeInAList>true</storeInAList>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.DumpStateProperties">
                                <appendThreads>false</appendThreads>
                                <appendSummary>false</appendSummary>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="2d24a3ce-3774-434c-aef2-b6c17fe5894d" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Create the bases for ports, switchPorts, and connections</body>
                    </command>
                    <nestedSteps>
                        <item guid="09aaf3fe-3552-455d-b5dc-5da5333fa333" action="if" useFieldsInCommand="false">
                            <command>
                                <body>len(portList) &gt; -1:</body>
                            </command>
                            <nestedSteps>
                                <item guid="b54d46a3-61a9-48ca-afe8-2237e9107fbf" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;createJson&apos;, documentName=&apos;ports&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{&quot;ports&quot;:[]}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">createJson</action>
                                        <jsonString inherit="false">{&quot;ports&quot;:[]}</jsonString>
                                        <documentName inherit="false">ports</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="c23c033f-c7ee-4521-a433-351cc9bda29e" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;createJson&apos;, documentName=&apos;switchPorts&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{&quot;switchPorts&quot;:[]}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">createJson</action>
                                        <jsonString inherit="false">{&quot;switchPorts&quot;:[]}</jsonString>
                                        <documentName inherit="false">switchPorts</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="4ee7f01a-bca7-4df7-9747-634f60a9d278" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;createJson&apos;, documentName=&apos;connections&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{&quot;connections&quot;:[]}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">createJson</action>
                                        <jsonString inherit="false">{&quot;connections&quot;:[]}</jsonString>
                                        <documentName inherit="false">connections</documentName>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="94517652-9cca-4873-a5bd-88683c5ca6e4" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Add each port, create switch ports, and bind connections</body>
                    </command>
                    <nestedSteps>
                        <item guid="3ae8bc7f-a3b5-4c6e-89ba-afe5637a52fb" action="for" useFieldsInCommand="false">
                            <command>
                                <body>i in portList:</body>
                            </command>
                            <nestedSteps>
                                <item guid="eb9c14da-3ee9-4d93-b4e6-8b58c1cebd05" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(i)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>responseLine</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="message">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                        <message>Creating port: {value}</message>
                                                        <tag sub="false" defaultValue=""/>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="f79c4d90-0b92-40c2-8e4f-dd343741427a" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;ports&apos;, pathValue=&apos;{&quot;ports/\\\\[1]&quot;:\\\\[{&quot;name&quot;:&quot;[i]&quot;,&quot;properties&quot;:{&quot;Port Type&quot;:&quot;Hello, World!&quot;}}]}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">addJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;ports/\\[1]&quot;:\\[{&quot;name&quot;:&quot;[i]&quot;,&quot;properties&quot;:{&quot;Port Type&quot;:&quot;Hello, World!&quot;}}]}</pathValue>
                                        <documentName inherit="false">ports</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="3480a148-dd28-41ef-945d-71f90b7e926e" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;switchPorts&apos;, pathValue=&apos;{&quot;switchPorts/\\\\[1]&quot;:\\\\[{&quot;name&quot;:&quot;[param(\\&apos;topologyResourceId\\&apos;)].[i]&quot;,&quot;portNumber&quot;:&quot;[param(\\&apos;topologyResourceId\\&apos;)].[i]&quot;,&quot;Port Type&quot;:&quot;Hello, World!&quot;}]}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">addJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;switchPorts/\\[1]&quot;:\\[{&quot;name&quot;:&quot;[param(&apos;topologyResourceId&apos;)].[i]&quot;,&quot;portNumber&quot;:&quot;[param(&apos;topologyResourceId&apos;)].[i]&quot;,&quot;Port Type&quot;:&quot;Hello, World!&quot;}]}</pathValue>
                                        <documentName inherit="false">switchPorts</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="17d8fe5e-9f06-499e-9022-132acbcf0bfa" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;connections&apos;, pathValue=&apos;{&quot;connections/\\\\[1]&quot;:\\\\[{&quot;port1&quot;:&quot;[param(\\&apos;topologyResourceId\\&apos;)].[i]&quot;,&quot;port2&quot;:&quot;[i]&quot;}]}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">addJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;connections/\\[1]&quot;:\\[{&quot;port1&quot;:&quot;[param(&apos;topologyResourceId&apos;)].[i]&quot;,&quot;port2&quot;:&quot;[i]&quot;}]}</pathValue>
                                        <documentName inherit="false">connections</documentName>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="7f7210f4-1d22-4dcf-887a-3286285901f6" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Add port, switch ports, and connections into response</body>
                    </command>
                    <nestedSteps>
                        <item guid="07d489fb-8e54-41d1-ae94-c11464edebe2" action="if" useFieldsInCommand="false">
                            <command>
                                <body>len(portList) &gt; -1:</body>
                            </command>
                            <nestedSteps>
                                <item guid="9cdd15d1-1e01-48bf-b046-768e5630abb2" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;response&apos;, pathValue=&apos;{&quot;/&quot;:[ports]}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">addJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;/&quot;:[ports]}</pathValue>
                                        <documentName inherit="false">response</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="433e9d93-8cbc-42c9-8234-57c70f1f8f7c" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;response&apos;, pathValue=&apos;{&quot;/&quot;:[switchPorts]}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">addJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;/&quot;:[switchPorts]}</pathValue>
                                        <documentName inherit="false">response</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="8ee31f70-5d9e-4e20-a88c-ebf7327cb41a" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;response&apos;, pathValue=&apos;{&quot;/&quot;:[connections]}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">addJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;/&quot;:[connections]}</pathValue>
                                        <documentName inherit="false">response</documentName>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="47d6f5e4-53d6-477a-8d86-398e5aa422d1" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Finish up</body>
                    </command>
                    <nestedSteps>
                        <item guid="5f967564-5f12-4144-960a-6118301acf93" action="return">
                            <command>
                                <body>[response]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Arguments:
• id – the id of the topology resource (Topology context) being initialized
• Properties:

All properties that the driver needs (defined in the driver manifest file as currently implemented).
Values should be property defaults as defined in the source template

• Standard runtime data
• Velocity reservationId, token, url, reportId</multilineDescription>
            <arguments>
                <item name="id">
                    <description>The id of the topology resource (Topology context) being initialized</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;properties&quot;:{&quot;velocityId&quot;:&quot;&quot;,&quot;instanceId&quot;:&quot;&quot;,&quot;ipAddress&quot;:&quot;&quot;,&quot;physicalClass&quot;:&quot;instance&quot;,&quot;numberPorts&quot;:&quot;&quot;,&quot;State&quot;:{&quot;Code&quot;:16,&quot;Name&quot;:&quot;running&quot;}},&quot;ports&quot;:[{&quot;name&quot;:&quot;i-0aed5de9236f1fc52.port.0&quot;,&quot;status&quot;:&quot;0&quot;,&quot;container&quot;:&quot;&quot;,&quot;properties&quot;:{&quot;publicIP&quot;:&quot;54.86.43.203&quot;,&quot;prop2&quot;:&quot;value2&quot;}}],&quot;switchPorts&quot;:[{&quot;name&quot;:&quot;Vlan100.1&quot;,&quot;property&quot;:{}}],&quot;connections&quot;:[{&quot;port1&quot;:&quot;Vlan100.1&quot;,&quot;port2&quot;:&quot;i-0aed5de9236f1fc52.port.1&quot;}],&quot;reservationProperties&quot;:{&quot;instanceId&quot;:&quot;&quot;,&quot;ipAddress&quot;:&quot;&quot;,&quot;SubnetId&quot;:&quot;&quot;,&quot;VpcId&quot;:&quot;&quot;,&quot;GroupId&quot;:&quot;&quot;,&quot;AvailabilityZone&quot;:&quot;&quot;}}</response>
        </item>
        <item name="termOrchestratedResource">
            <steps>
                <item guid="c29276fc-3403-4a22-b365-14274fdb02d5" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Run during topology de-activation on orchestrated resources with interface type “orchestration”</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="213c3404-d1ce-4ce9-aff8-26422ce80887" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Velocity always passes the topologyResourceId and resoureId parameters. It may be useful if this driver needs to parse the TBML and/or query Velocity via REST</body>
                    </command>
                    <nestedSteps>
                        <item guid="16f8d3f5-37b3-4967-8e55-052f85a3ed34" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(param(&apos;topologyResourceId&apos;))</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>responseLine</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>Topology resource Id: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="7e9e565b-47b8-4997-9746-dd6781cd297b" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(param(&apos;resourceId&apos;))</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>responseLine</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>Inventory resource Id: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="9e7bf64a-7304-4c00-87e0-e4b6c31d6bab" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Velocity passes property values specified in this driver&apos;s manifest.xml file. They arrive as parameters prepended with the string &quot;property_&quot;.</body>
                    </command>
                    <nestedSteps>
                        <item guid="3ce7d0c1-5104-406a-acd9-76aaa1ec87c4" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(param(&apos;property_property_toDriver&apos;))</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>responseLine</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>toDriver property value from Velocity: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="084b1492-3f15-4426-8650-00825f9a9447" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(param(&apos;property_ipAddress&apos;))</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>responseLine</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>ipAddress property value from Velocity: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="55a5b519-0d3d-41d4-b83c-416920557fd8" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Display the name of the orchestrated device - the entire toplogy TBML structure is available in the context of this driver execution.</body>
                    </command>
                    <nestedSteps>
                        <item guid="517d2fea-b335-46c8-a447-af61769b8f34" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>resourceName=tbml(&apos;property&apos;, &apos;-id&apos;, param(&apos;topologyResourceId&apos;), &apos;name&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="ff015c57-63d0-403b-98a9-720037db7555" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(resourceName)</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>responseLine</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>Resource name: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="10bee23d-c70d-4ce3-9269-45e6df21121c" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Destroy Orchestrated Resource</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>1 == 1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Arguments:
id – the id of the topology resource (Topology context) being terminated

Properties:
• All properties that the driver needs (defined in the driver manifest file as currently implemented).
Values should be property defaults as defined in the source template
• Standard runtime data:
• Velocity reservationId, token, url, reportId</multilineDescription>
            <response>{}</response>
        </item>
        <item name="initVelocitySelected" isPublic="true">
            <steps>
                <item guid="36605086-8d77-4532-a901-03f3f92ece10" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Run during topology activation on Velocity selected resources with interface type “orchestration”</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="78a04204-bdf2-427f-b5d6-b27a1eb199ef" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Apply the resource&apos;s configuration if specified in the reservation. This example driver expects https://httpbin.org/anything</body>
                    </command>
                    <nestedSteps>
                        <item guid="6931198e-3924-4f05-bdc6-c5a88d361385" action="call" useFieldsInCommand="false">
                            <command>
                                <body>getConfigurationFile -reservationId [velocity(&quot;reservationId&quot;)] -init_topologyResourceId [param(&apos;topologyResourceId&apos;)] -url [velocity(&quot;url&quot;)] -token [velocity(&quot;token&quot;)]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>ConfigFile()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>ConfigFile</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>ConfigFile()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>Configuration file to use is: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="f4c64a4f-5301-4027-8d4a-4e078f5d8aba" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>configURL = &quot;none&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="35ad2cb2-c622-4d7f-baeb-fc60a2ddb673" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>traceId = &quot;none&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="28740404-c22e-4e76-ac47-2bd5c42a006f" action="if" useFieldsInCommand="false">
                            <command>
                                <body>ConfigFile != &quot;none&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="c2ad2f06-b947-4e16-923d-ff6c800dd295" action="readFile">
                                    <command>
                                        <body>[ConfigFile]</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>mapped/Json/url</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>configURL</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>mapped/Json/headers/X-Amzn-Trace-Id</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>traceId</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.ReadFilePropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="8ae0764e-b9da-4f43-bcc9-606340402321" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Velocity always passes topologyResourceId and resourceId as a parameters. It may be useful if this driver needs to parse the TBML and find this ID in the structure.</body>
                    </command>
                    <nestedSteps>
                        <item guid="5d485329-fba1-4373-98ae-c04ded2a2b3c" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(param(&apos;topologyResourceId&apos;))</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>responseLine</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>Topology resource Id: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="1f80b1c4-26c6-4fab-90f9-7445539bbf40" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(param(&apos;resourceId&apos;))</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>responseLine</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>Inventory resource Id: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="61f0c48b-8f09-47ae-b2c1-21b40d51d16d" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Velocity passes property values specified in this driver&apos;s manifest.xml file. They arrive as parameters prepended with the string &quot;property_&quot;.</body>
                    </command>
                    <nestedSteps>
                        <item guid="919fa7ef-a622-40eb-8d9a-cba5cdfc2bbe" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(param(&apos;property_property_toDriver&apos;))</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>responseLine</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>toDriver property value from Velocity: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="fc59c69c-392f-4266-8481-2bad720a16c6" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(param(&apos;property_ipAddress&apos;))</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>responseLine</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>ipAddress property value from Velocity: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="691bfb67-5518-4fe8-bcae-a40e6b640d0e" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Display the name of the orchestrated device - the entire toplogy TBML structure is available in the context of this driver execution.</body>
                    </command>
                    <nestedSteps>
                        <item guid="012f5f35-75bd-473b-9e50-804b6e3b0ff6" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>resourceName=tbml(&apos;property&apos;, &apos;-id&apos;, param(&apos;topologyResourceId&apos;), &apos;name&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="acd3037c-29dc-44a3-967c-5bd255792679" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(resourceName)</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>responseLine</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>Resource name: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="b3e7f9f0-2818-41a3-ae24-5c5a8d3d26e1" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Create the base of the JSON response</body>
                    </command>
                    <nestedSteps>
                        <item guid="197e9241-ae87-4e4e-a25b-659ba5b5cbcb" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;createJson&apos;, documentName=&apos;response&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{}&apos;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">createJson</action>
                                <jsonString inherit="false">{}</jsonString>
                                <documentName inherit="false">response</documentName>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="c4b2fe95-4fc3-4b3c-a886-1525abed560c" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Add a JSON document to describe &quot;Reservation Properties&quot; - These will be available in the TBML and displayed in the Velocity topology viewer in the reservation.</body>
                    </command>
                    <nestedSteps>
                        <item guid="2e408412-eb17-4a8d-a816-31f76e801273" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;createJson&apos;, documentName=&apos;reservationProperties&apos;, fromFile=&apos;false&apos;, jsonString=&apos;{&quot;reservationProperties&quot;:{&quot;ReturnedProperty2&quot;:&quot;Hello, World! 1&quot;,&quot;ReturnedProperty1&quot;:&quot;Hello, World! 2&quot;,&quot;configURL&quot;:&quot;[configURL]&quot;,&quot;traceId&quot;:&quot;[traceId]&quot;}}&apos;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">createJson</action>
                                <jsonString inherit="false" sub="true">{&quot;reservationProperties&quot;:{&quot;ReturnedProperty2&quot;:&quot;Hello, World! 1&quot;,&quot;ReturnedProperty1&quot;:&quot;Hello, World! 2&quot;,&quot;configURL&quot;:&quot;[configURL]&quot;,&quot;traceId&quot;:&quot;[traceId]&quot;}}</jsonString>
                                <documentName inherit="false">reservationProperties</documentName>
                            </applicationProperties>
                        </item>
                        <item guid="e5843df1-2dde-4173-9b7e-62d3338594ae" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=&apos;false&apos;, documentName=&apos;response&apos;, pathValue=&apos;{&quot;/&quot;:[reservationProperties]}&apos;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">addJsonNode</action>
                                <pathValue inherit="false" sub="true">{&quot;/&quot;:[reservationProperties]}</pathValue>
                                <documentName inherit="false">response</documentName>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="3de0bbef-a4b9-4160-a538-efff0d8dda69" action="return">
                    <command>
                        <body>[response]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Arguments:
• id – the id of the topology resource (Topology context) being initialized
• Properties:

All properties that the driver needs (defined in the driver manifest file as currently implemented).
Values should be property defaults as defined in the source template

• Standard runtime data
• Velocity reservationId, token, url, reportId</multilineDescription>
            <arguments>
                <item name="id">
                    <description>The id of the topology resource (Topology context) being initialized</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;properties&quot;:{&quot;velocityId&quot;:&quot;&quot;,&quot;instanceId&quot;:&quot;&quot;,&quot;ipAddress&quot;:&quot;&quot;,&quot;physicalClass&quot;:&quot;instance&quot;,&quot;numberPorts&quot;:&quot;&quot;,&quot;State&quot;:{&quot;Code&quot;:16,&quot;Name&quot;:&quot;running&quot;}},&quot;ports&quot;:[{&quot;name&quot;:&quot;i-0aed5de9236f1fc52.port.0&quot;,&quot;status&quot;:&quot;0&quot;,&quot;container&quot;:&quot;&quot;,&quot;properties&quot;:{&quot;publicIP&quot;:&quot;54.86.43.203&quot;,&quot;prop2&quot;:&quot;value2&quot;}}],&quot;switchPorts&quot;:[{&quot;name&quot;:&quot;Vlan100.1&quot;,&quot;property&quot;:{}}],&quot;connections&quot;:[{&quot;port1&quot;:&quot;Vlan100.1&quot;,&quot;port2&quot;:&quot;i-0aed5de9236f1fc52.port.1&quot;}],&quot;reservationProperties&quot;:{&quot;instanceId&quot;:&quot;&quot;,&quot;ipAddress&quot;:&quot;&quot;,&quot;SubnetId&quot;:&quot;&quot;,&quot;VpcId&quot;:&quot;&quot;,&quot;GroupId&quot;:&quot;&quot;,&quot;AvailabilityZone&quot;:&quot;&quot;}}</response>
        </item>
        <item name="termVelocitySelected">
            <steps>
                <item guid="95bca9ae-1606-489b-89d1-af20eb4a59e9" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Run during topology de-activation on Velocity selected resources with interface type “orchestration”</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="c59b1d88-10af-4fff-b856-00052097c2b1" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Velocity always passes the topologyResourceId and resoureId parameters. It may be useful if this driver needs to parse the TBML and/or query Velocity via REST</body>
                    </command>
                    <nestedSteps>
                        <item guid="28a27653-2e26-4c6c-8b14-0a4fcc96d1cb" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(param(&apos;topologyResourceId&apos;))</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>responseLine</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>Topology resource Id: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="c6c3c6f8-58f6-4ff6-bef0-f63284cc4e31" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(param(&apos;resourceId&apos;))</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>responseLine</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>Inventory resource Id: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="6b39a7bf-f462-4658-973c-ae74b13947a8" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Velocity passes property values specified in this driver&apos;s manifest.xml file. They arrive as parameters prepended with the string &quot;property_&quot;.</body>
                    </command>
                    <nestedSteps>
                        <item guid="5f5c3415-6494-4660-9d4a-9236c9e0dc08" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(param(&apos;property_property_toDriver&apos;))</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>responseLine</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>toDriver property value from Velocity: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="341e1d52-080c-45fe-a397-47cce928bc8c" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(param(&apos;property_ipAddress&apos;))</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>responseLine</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>ipAddress property value from Velocity: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="6ff599e6-24d1-4858-9022-27328fe9c7a9" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Display the name of the orchestrated device - the entire toplogy TBML structure is available in the context of this driver execution.</body>
                    </command>
                    <nestedSteps>
                        <item guid="822857e7-0b17-42b9-afc7-f7a91398b9ec" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>resourceName=tbml(&apos;property&apos;, &apos;-id&apos;, param(&apos;topologyResourceId&apos;), &apos;name&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="8db7be7a-4664-4f8f-bea5-7644b0cf4786" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(resourceName)</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>responseLine</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>Resource name: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="85338edc-090f-4c75-b331-447c2cce8b53" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Destroy Orchestrated Resource</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>1 == 1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Arguments:
id – the id of the topology resource (Topology context) being terminated

Properties:
• All properties that the driver needs (defined in the driver manifest file as currently implemented).
Values should be property defaults as defined in the source template
• Standard runtime data:
• Velocity reservationId, token, url, reportId</multilineDescription>
            <response>{}</response>
        </item>
        <item name="getConfigurationFile" isPublic="true" defaultSessionProfile="application:com.fnfr.itest.applications.webservices.restful" isVBlock="true">
            <description>The entry point to the test case</description>
            <steps>
                <item guid="969cc098-44e1-4a31-b3b1-f5f70580600a" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Open session</body>
                    </command>
                    <nestedSteps>
                        <item guid="0c7d197b-38ec-46b0-a76c-6023250240a9" action="open" session="getReservationResourceProperties1" useFieldsInCommand="false">
                            <command>
                                <body>application:com.fnfr.itest.applications.webservices.restful</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulSessionProperties" url="[url]" url.inherit="false" acceptAllCookies="true" acceptAllCookies.inherit="false">
                                    <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                </sessionProperties>
                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </applicationProperties>
                            <emulation>
                                <behavior>
                                    <structuredData>
&lt;structure xmlns:map=&quot;http://www.fnfr.com/svt/mapping&quot;&gt;
    &lt;responseLine/&gt;
&lt;/structure&gt;
</structuredData>
                                    <aliases>
                                        <item name="isEmpty">
                                            <queryFormatString>.//isEmpty</queryFormatString>
                                        </item>
                                        <item name="responseLine">
                                            <queryFormatString>.//responseLine</queryFormatString>
                                        </item>
                                    </aliases>
                                    <duration>4.6</duration>
                                </behavior>
                            </emulation>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="f5ef8b67-4b93-4cb0-998e-d7b6ce283166" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get reservation resource item and store name/configAssetId/configURI/useDefaultConfig</body>
                    </command>
                    <nestedSteps>
                        <item guid="5d333ed1-6e7b-4da8-abba-2562465cd290" action="GET" session="getReservationResourceProperties1" normalOffset="2.993" estimatedStepExecutionTime="1.349">
                            <command>
                                <body>/velocity/api/reservation/v15/reservation/[reservationId]/resources?filter=topologyResourceId::[init_topologyResourceId]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                <query sub="true">mapped/Json/items/item/name</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>name</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                <query sub="true">mapped/Json/items/item/configAssetId</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>configAssetId</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                <query sub="true">mapped/Json/items/item/configAssetId</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>configAssetId: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                <query sub="true">mapped/Json/items/item/configURI</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>configURI</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                <query sub="true">mapped/Json/items/item/configURI</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>configURI: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                <query sub="true">mapped/Json/items/item/useDefaultConfig</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>useDefaultConfig</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                <query sub="true">mapped/Json/items/item/useDefaultConfig</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>useDefaultConfig: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/reservation/v15/reservation/[reservationId]/resources?filter=topologyResourceId::[init_topologyResourceId]" action.inherit="false">
                                <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                    <memberClasses>
                                        <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                    </memberClasses>
                                    <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry" header="X-Auth-Token" header.inherit="false" value="[token]" value.inherit="false"/>
                                </httpHeader>
                            </applicationProperties>
                            <emulation>
                                <behavior>
                                    <response>{&quot;items&quot;:[{&quot;name&quot;:&quot;Nested Resource 1&quot;,&quot;type&quot;:&quot;DEVICE&quot;,&quot;inventoryResourceId&quot;:null,&quot;inventoryParentResourceId&quot;:null,&quot;inventoryParentResourceName&quot;:null,&quot;topologyResourceId&quot;:&quot;i5b571b01-4f54-43ab-b1cc-098c7e714102&quot;,&quot;topologyParentResourceId&quot;:null,&quot;configAssetId&quot;:null,&quot;firmwareAssetId&quot;:null,&quot;restoreDefaultConfig&quot;:true,&quot;condition&quot;:null,&quot;inventoryResourceName&quot;:null,&quot;utilizationType&quot;:&quot;EXCLUSIVE&quot;,&quot;vlanIds&quot;:[],&quot;configURI&quot;:&quot;https://httpbin.org/anything/s2&quot;,&quot;firmwareURI&quot;:null,&quot;useDefaultConfig&quot;:false,&quot;useDefaultFirmware&quot;:false,&quot;isTopologyResource&quot;:true,&quot;isResolved&quot;:false,&quot;isConfigurable&quot;:false,&quot;isVirtual&quot;:false,&quot;isReservedWithParent&quot;:false,&quot;id&quot;:&quot;23f9d51d-4839-4ee2-8a62-b1d48e74bc77&quot;,&quot;reservationTime&quot;:&quot;IMMEDIATE&quot;,&quot;status&quot;:&quot;ACTIVE&quot;}],&quot;count&quot;:1,&quot;offset&quot;:0,&quot;total&quot;:1}</response>
                                    <responseType>text</responseType>
                                    <structuredData>
&lt;structure xmlns:map=&quot;http://www.fnfr.com/svt/mapping&quot;&gt;
    &lt;statusCode value=&quot;200&quot;/&gt;
    &lt;requestHTTPHeaders map:nodetype=&quot;token&quot;&gt;
        &lt;X_Auth_Token map:nodetype=&quot;token&quot;&gt;eyJwYWNrZXQiOiJ7XCJpZFwiOlwic3BpcmVudFwiLFwidXNlcl9uYW1lXCI6XCJzcGlyZW50XCIsXCJkb21haW5cIjpcImxkYXBcIixcInN0YXJ0X3RpbWVcIjoxNjE2OTQyMDk2LFwiZXhwaXJhdGlvblwiOjE2MTcwMjk2OTZ9Iiwic2lnbmF0dXJlIjoiODU0RDg3MDA2RTI5MThEQTZCQzIzQ0NBNEU3Njg4NzUxRDQzRTZGQjU0MzNBRDY4OTNBMTQ1MTg0NDQwMEU4Qjk5NTkyNzhBOTYwRjJBQTJDNjY5OTFBRUEwQkY2MTU0OTFFOEU5MDQ1NDQyNTE3QjNGRkFBODkxNTlENDUxODNFRjVDRTlCM0E2NjExOEZCOEM4NzBCMDQyNjk5OUVCNUY5NjRBQzlBRDc1NjNEQUNCM0Y3QzBDQzU3Q0I4MzRGQ0U3QkQxRDU1NzAxRjhFOUQ1MEFGRjQzNUQwQ0FERUU0QTg4RDM5N0I4RkQwOTNDMUExQjA2RkI1QjZBRDM3N0YwMTYzQkFCMUQwRDA1QzA5NUQ5OUUyOTE1OUMwMTZDN0I3RjQ5OUEzRUM3RjRGMkE5OUU0M0Q1QjFFQkVCNDhERDEzMUIyM0E4Mzk4QkMxRjJDMjA4QURFMjc4M0M2MDg3OUUwNkMzNDgxNkVCNzhGNzVFQTlGOUJBMTgzMzg1RkQ4MDNCRUQyNzUxMTNENEM4MTExQjU0QkFGNzgyRkE5ODdENEMyMDlDOEIxQTQ2NUY2RjdFQTAwQjE0N0NEOUUzMkI4MERFODJCQzVGRjBFRDg3QjRCNTU1MUM5MTQ1MkQwNTRFMUE5OEY2MDAwRTA4RkRDN0FDMkUyN0Q2OUQifQ==&lt;/X_Auth_Token&gt;
        &lt;Cookie map:nodetype=&quot;token&quot;/&gt;
    &lt;/requestHTTPHeaders&gt;
    &lt;requestRawText map:nodetype=&quot;token&quot;/&gt;
    &lt;responseHTTPHeaders map:nodetype=&quot;token&quot;&gt;
        &lt;X_Frame_Options map:nodetype=&quot;token&quot;&gt;SAMEORIGIN&lt;/X_Frame_Options&gt;
        &lt;Server map:nodetype=&quot;token&quot;&gt;nginx&lt;/Server&gt;
        &lt;X_Content_Type_Options map:nodetype=&quot;token&quot;&gt;nosniff&lt;/X_Content_Type_Options&gt;
        &lt;Connection map:nodetype=&quot;token&quot;&gt;keep-alive&lt;/Connection&gt;
        &lt;Content_Length map:nodetype=&quot;token&quot;&gt;760&lt;/Content_Length&gt;
        &lt;X_XSS_Protection map:nodetype=&quot;token&quot;&gt;1; mode=block&lt;/X_XSS_Protection&gt;
        &lt;Date map:nodetype=&quot;token&quot;&gt;Sun, 28 Mar 2021 21:57:22 GMT&lt;/Date&gt;
        &lt;Content_Type map:nodetype=&quot;token&quot;&gt;application/json&lt;/Content_Type&gt;
        &lt;X_Powered_By map:nodetype=&quot;token&quot;&gt;Undertow/6&lt;/X_Powered_By&gt;
    &lt;/responseHTTPHeaders&gt;
    &lt;responseRawText map:nodetype=&quot;token&quot;&gt;{&amp;quot;items&amp;quot;:[{&amp;quot;name&amp;quot;:&amp;quot;Nested Resource 1&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;DEVICE&amp;quot;,&amp;quot;inventoryResourceId&amp;quot;:null,&amp;quot;inventoryParentResourceId&amp;quot;:null,&amp;quot;inventoryParentResourceName&amp;quot;:null,&amp;quot;topologyResourceId&amp;quot;:&amp;quot;i5b571b01-4f54-43ab-b1cc-098c7e714102&amp;quot;,&amp;quot;topologyParentResourceId&amp;quot;:null,&amp;quot;configAssetId&amp;quot;:null,&amp;quot;firmwareAssetId&amp;quot;:null,&amp;quot;restoreDefaultConfig&amp;quot;:true,&amp;quot;condition&amp;quot;:null,&amp;quot;inventoryResourceName&amp;quot;:null,&amp;quot;utilizationType&amp;quot;:&amp;quot;EXCLUSIVE&amp;quot;,&amp;quot;vlanIds&amp;quot;:[],&amp;quot;configURI&amp;quot;:&amp;quot;https://httpbin.org/anything/s2&amp;quot;,&amp;quot;firmwareURI&amp;quot;:null,&amp;quot;useDefaultConfig&amp;quot;:false,&amp;quot;useDefaultFirmware&amp;quot;:false,&amp;quot;isTopologyResource&amp;quot;:true,&amp;quot;isResolved&amp;quot;:false,&amp;quot;isConfigurable&amp;quot;:false,&amp;quot;isVirtual&amp;quot;:false,&amp;quot;isReservedWithParent&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;23f9d51d-4839-4ee2-8a62-b1d48e74bc77&amp;quot;,&amp;quot;reservationTime&amp;quot;:&amp;quot;IMMEDIATE&amp;quot;,&amp;quot;status&amp;quot;:&amp;quot;ACTIVE&amp;quot;}],&amp;quot;count&amp;quot;:1,&amp;quot;offset&amp;quot;:0,&amp;quot;total&amp;quot;:1}&lt;/responseRawText&gt;
    &lt;responseLine&gt;{&amp;quot;items&amp;quot;:[{&amp;quot;name&amp;quot;:&amp;quot;Nested Resource 1&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;DEVICE&amp;quot;,&amp;quot;inventoryResourceId&amp;quot;:null,&amp;quot;inventoryParentResourceId&amp;quot;:null,&amp;quot;inventoryParentResourceName&amp;quot;:null,&amp;quot;topologyResourceId&amp;quot;:&amp;quot;i5b571b01-4f54-43ab-b1cc-098c7e714102&amp;quot;,&amp;quot;topologyParentResourceId&amp;quot;:null,&amp;quot;configAssetId&amp;quot;:null,&amp;quot;firmwareAssetId&amp;quot;:null,&amp;quot;restoreDefaultConfig&amp;quot;:true,&amp;quot;condition&amp;quot;:null,&amp;quot;inventoryResourceName&amp;quot;:null,&amp;quot;utilizationType&amp;quot;:&amp;quot;EXCLUSIVE&amp;quot;,&amp;quot;vlanIds&amp;quot;:[],&amp;quot;configURI&amp;quot;:&amp;quot;https://httpbin.org/anything/s2&amp;quot;,&amp;quot;firmwareURI&amp;quot;:null,&amp;quot;useDefaultConfig&amp;quot;:false,&amp;quot;useDefaultFirmware&amp;quot;:false,&amp;quot;isTopologyResource&amp;quot;:true,&amp;quot;isResolved&amp;quot;:false,&amp;quot;isConfigurable&amp;quot;:false,&amp;quot;isVirtual&amp;quot;:false,&amp;quot;isReservedWithParent&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;23f9d51d-4839-4ee2-8a62-b1d48e74bc77&amp;quot;,&amp;quot;reservationTime&amp;quot;:&amp;quot;IMMEDIATE&amp;quot;,&amp;quot;status&amp;quot;:&amp;quot;ACTIVE&amp;quot;}],&amp;quot;count&amp;quot;:1,&amp;quot;offset&amp;quot;:0,&amp;quot;total&amp;quot;:1}&lt;/responseLine&gt;
&lt;/structure&gt;
</structuredData>
                                    <aliases>
                                        <item name="isEmpty">
                                            <queryFormatString>.//isEmpty</queryFormatString>
                                        </item>
                                        <item name="responseLine">
                                            <queryFormatString>.//responseLine</queryFormatString>
                                        </item>
                                        <item name="total">
                                            <queryFormatString>mapped/Json/total</queryFormatString>
                                        </item>
                                        <item name="offset">
                                            <queryFormatString>mapped/Json/offset</queryFormatString>
                                        </item>
                                        <item name="count">
                                            <queryFormatString>mapped/Json/count</queryFormatString>
                                        </item>
                                        <item name="items">
                                            <queryFormatString>mapped/Json/items</queryFormatString>
                                        </item>
                                    </aliases>
                                    <duration>0.5</duration>
                                </behavior>
                            </emulation>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="1df59423-2372-4ea3-b146-3f65e6210954" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Download the configuration file if specified</body>
                    </command>
                    <nestedSteps>
                        <item guid="5a618a7a-a816-431e-93a3-949ff520d7fd" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ConfigurationFile=&apos;&apos;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="92023076-654f-4cc8-86ec-8325e5cf24ee" action="if" useFieldsInCommand="false">
                            <command>
                                <body>configURI == &quot;&quot; and configAssetId == &quot;&quot; and useDefaultConfig == &quot;false&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="3dc2ce5b-3223-4aec-b09a-44cbb18daeba" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Configuration must have been set to None</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="ae0995cf-2615-4a6b-8352-b813e164f1e4" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ConfigurationFile=&apos;none&apos;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="24f63672-68bc-4a5c-b67c-64b643e1ede2" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Information:No configuration to apply</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <message inherit="false">No configuration to apply</message>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="061ccf6f-8d2b-4f2b-97ed-5e240456ace9" action="elif" useFieldsInCommand="false">
                            <command>
                                <body>configURI == &quot;&quot; and configAssetId == &quot;&quot; and useDefaultConfig == &quot;true&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="7d159188-8811-42d1-8948-f45702e2a45a" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Configuration must have been set to Inherit (from its template)</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="f09ea02e-b5b1-44f0-8b07-990cc0cbc283" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Determine the configuration settings of the resource&apos;s template</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="57296597-2c1c-4258-9905-5ee0bafb87f3" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Get reservation/topology/resource item and store hostResource_topologyResourceId/templateId</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="75a7b819-e1a4-4b2f-a8d7-c120fc1dcc70" action="GET" session="getReservationResourceProperties1" normalOffset="28.397" estimatedStepExecutionTime="1.362">
                                                            <command>
                                                                <body>/velocity/api/reservation/v15/reservation/[reservationId]/topology</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                <query sub="true">mapped/Xml/tbml/body/resources//resource\\[@id=&quot;[init_topologyResourceId]&quot;]/property\\[@name=&quot;templateId&quot;]</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>templateId</storageLocation>
                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                <query sub="true">mapped/Xml/tbml/body/resources//resource\\[@id=&quot;[init_topologyResourceId]&quot;]/property\\[@name=&quot;hostResource_topologyResourceId&quot;]</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>hostResource_topologyResourceId</storageLocation>
                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                                <storeResponseAt>topology_xml</storeResponseAt>
                                                                <storeResponseText>true</storeResponseText>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/reservation/v15/reservation/[reservationId]/topology" action.inherit="false" rawresponse="true" rawresponse.inherit="false">
                                                                <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                                                    <memberClasses>
                                                                        <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                                                    </memberClasses>
                                                                    <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry" header="X-Auth-Token" header.inherit="false" value="[token]" value.inherit="false"/>
                                                                    <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry" header="Accept" header.inherit="false" value="application/tbml" value.inherit="false"/>
                                                                </httpHeader>
                                                            </applicationProperties>
                                                            <emulation>
                                                                <behavior>
                                                                    <response>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;tbml xmlns=&quot;http://www.teslaalliance.org/trs/tbml/1.0&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.teslaalliance.org/trs/tbml/1.0/tbml-core.xsd&quot;&gt;
&lt;header&gt;
&lt;name&gt;Orchestrated Example 1&lt;/name&gt;
&lt;description&gt;One orchestrated resource with no ports&lt;/description&gt;
&lt;/header&gt;
&lt;illustration&gt;
&lt;layer/&gt;
&lt;/illustration&gt;
&lt;body&gt;
&lt;resources&gt;
&lt;resource guid=&quot;9df6af14-11d3-47f6-ac14-dba738731382&quot; id=&quot;i152b9366-2469-4861-8d79-6c140d19d443&quot; shared=&quot;true&quot; type=&quot;device&quot;&gt;
&lt;property isimportant=&quot;false&quot; name=&quot;name&quot;&gt;Orchestration Example 1&lt;/property&gt;
&lt;property isimportant=&quot;false&quot; name=&quot;description&quot;&gt;Example that demonstrates how a resource can be created and destroyed upon topology activation and termination&lt;/property&gt;
&lt;property isimportant=&quot;false&quot; name=&quot;iconURI&quot;&gt;ilo://api/0/resource/icon?id=9df6af14-11d3-47f6-ac14-dba738731382&lt;/property&gt;
&lt;property editable=&quot;false&quot; isimportant=&quot;false&quot; name=&quot;reservationTime&quot;&gt;IMMEDIATE&lt;/property&gt;
&lt;property isimportant=&quot;false&quot; name=&quot;ilo_iconId&quot;/&gt;
&lt;property isimportant=&quot;false&quot; name=&quot;hostResource_topologyResourceId&quot;/&gt;
&lt;property isimportant=&quot;false&quot; name=&quot;hostResource_parentType&quot;/&gt;
&lt;property isimportant=&quot;false&quot; name=&quot;orchestratedResourceRole&quot;&gt;S2_ORCHESTRATED&lt;/property&gt;
&lt;property isimportant=&quot;false&quot; name=&quot;templateId&quot;&gt;ba1cfd2c-41b1-4769-b9f6-a0421517109b&lt;/property&gt;
&lt;property isimportant=&quot;false&quot; name=&quot;ilo_shape&quot;&gt;RECTANGLE&lt;/property&gt;
&lt;boundary height=&quot;100&quot; width=&quot;100&quot; x=&quot;357&quot; y=&quot;137&quot;/&gt;
&lt;extensions type=&quot;com.fnfr.rm.condition&quot; xs:namespace=&quot;com.fnfr.rm.condition&quot;/&gt;
&lt;/resource&gt;
&lt;/resources&gt;
&lt;connectivity/&gt;
&lt;/body&gt;
&lt;/tbml&gt;
</response>
                                                                    <responseType>text</responseType>
                                                                    <structuredData>
&lt;structure xmlns:map=&quot;http://www.fnfr.com/svt/mapping&quot;&gt;
    &lt;statusCode value=&quot;200&quot;/&gt;
    &lt;requestHTTPHeaders map:nodetype=&quot;token&quot;&gt;
        &lt;X_Auth_Token map:nodetype=&quot;token&quot;&gt;eyJwYWNrZXQiOiJ7XCJpZFwiOlwic3BpcmVudFwiLFwidXNlcl9uYW1lXCI6XCJzcGlyZW50XCIsXCJkb21haW5cIjpcImxkYXBcIixcInN0YXJ0X3RpbWVcIjoxNjE2OTQyMDk2LFwiZXhwaXJhdGlvblwiOjE2MTcwMjk2OTZ9Iiwic2lnbmF0dXJlIjoiODU0RDg3MDA2RTI5MThEQTZCQzIzQ0NBNEU3Njg4NzUxRDQzRTZGQjU0MzNBRDY4OTNBMTQ1MTg0NDQwMEU4Qjk5NTkyNzhBOTYwRjJBQTJDNjY5OTFBRUEwQkY2MTU0OTFFOEU5MDQ1NDQyNTE3QjNGRkFBODkxNTlENDUxODNFRjVDRTlCM0E2NjExOEZCOEM4NzBCMDQyNjk5OUVCNUY5NjRBQzlBRDc1NjNEQUNCM0Y3QzBDQzU3Q0I4MzRGQ0U3QkQxRDU1NzAxRjhFOUQ1MEFGRjQzNUQwQ0FERUU0QTg4RDM5N0I4RkQwOTNDMUExQjA2RkI1QjZBRDM3N0YwMTYzQkFCMUQwRDA1QzA5NUQ5OUUyOTE1OUMwMTZDN0I3RjQ5OUEzRUM3RjRGMkE5OUU0M0Q1QjFFQkVCNDhERDEzMUIyM0E4Mzk4QkMxRjJDMjA4QURFMjc4M0M2MDg3OUUwNkMzNDgxNkVCNzhGNzVFQTlGOUJBMTgzMzg1RkQ4MDNCRUQyNzUxMTNENEM4MTExQjU0QkFGNzgyRkE5ODdENEMyMDlDOEIxQTQ2NUY2RjdFQTAwQjE0N0NEOUUzMkI4MERFODJCQzVGRjBFRDg3QjRCNTU1MUM5MTQ1MkQwNTRFMUE5OEY2MDAwRTA4RkRDN0FDMkUyN0Q2OUQifQ==&lt;/X_Auth_Token&gt;
        &lt;Accept map:nodetype=&quot;token&quot;&gt;application/tbml&lt;/Accept&gt;
        &lt;Cookie map:nodetype=&quot;token&quot;/&gt;
    &lt;/requestHTTPHeaders&gt;
    &lt;requestRawText map:nodetype=&quot;token&quot;/&gt;
    &lt;responseHTTPHeaders map:nodetype=&quot;token&quot;&gt;
        &lt;Transfer_Encoding map:nodetype=&quot;token&quot;&gt;chunked&lt;/Transfer_Encoding&gt;
        &lt;X_Frame_Options map:nodetype=&quot;token&quot;&gt;SAMEORIGIN&lt;/X_Frame_Options&gt;
        &lt;Server map:nodetype=&quot;token&quot;&gt;nginx&lt;/Server&gt;
        &lt;Cache_Control map:nodetype=&quot;token&quot;&gt;no-cache&lt;/Cache_Control&gt;
        &lt;X_Content_Type_Options map:nodetype=&quot;token&quot;&gt;nosniff&lt;/X_Content_Type_Options&gt;
        &lt;Connection map:nodetype=&quot;token&quot;&gt;keep-alive&lt;/Connection&gt;
        &lt;X_XSS_Protection map:nodetype=&quot;token&quot;&gt;1; mode=block&lt;/X_XSS_Protection&gt;
        &lt;Date map:nodetype=&quot;token&quot;&gt;Sun, 28 Mar 2021 20:20:00 GMT&lt;/Date&gt;
        &lt;Content_Type map:nodetype=&quot;token&quot;&gt;application/tbml&lt;/Content_Type&gt;
        &lt;X_Powered_By map:nodetype=&quot;token&quot;&gt;Undertow/6&lt;/X_Powered_By&gt;
    &lt;/responseHTTPHeaders&gt;
    &lt;responseRawText map:nodetype=&quot;token&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;&amp;lt;tbml xmlns=&amp;quot;http://www.teslaalliance.org/trs/tbml/1.0&amp;quot; xmlns:xs=&amp;quot;http://www.w3.org/2001/XMLSchema&amp;quot; xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot; xsi:schemaLocation=&amp;quot;http://www.teslaalliance.org/trs/tbml/1.0/tbml-core.xsd&amp;quot;&amp;gt;
&amp;lt;header&amp;gt;
&amp;lt;name&amp;gt;Orchestrated Example 1&amp;lt;/name&amp;gt;
&amp;lt;description&amp;gt;One orchestrated resource with no ports&amp;lt;/description&amp;gt;
&amp;lt;/header&amp;gt;
&amp;lt;illustration&amp;gt;
&amp;lt;layer/&amp;gt;
&amp;lt;/illustration&amp;gt;
&amp;lt;body&amp;gt;
&amp;lt;resources&amp;gt;
&amp;lt;resource guid=&amp;quot;9df6af14-11d3-47f6-ac14-dba738731382&amp;quot; id=&amp;quot;i152b9366-2469-4861-8d79-6c140d19d443&amp;quot; shared=&amp;quot;true&amp;quot; type=&amp;quot;device&amp;quot;&amp;gt;
&amp;lt;property isimportant=&amp;quot;false&amp;quot; name=&amp;quot;name&amp;quot;&amp;gt;Orchestration Example 1&amp;lt;/property&amp;gt;
&amp;lt;property isimportant=&amp;quot;false&amp;quot; name=&amp;quot;description&amp;quot;&amp;gt;Example that demonstrates how a resource can be created and destroyed upon topology activation and termination&amp;lt;/property&amp;gt;
&amp;lt;property isimportant=&amp;quot;false&amp;quot; name=&amp;quot;iconURI&amp;quot;&amp;gt;ilo://api/0/resource/icon?id=9df6af14-11d3-47f6-ac14-dba738731382&amp;lt;/property&amp;gt;
&amp;lt;property editable=&amp;quot;false&amp;quot; isimportant=&amp;quot;false&amp;quot; name=&amp;quot;reservationTime&amp;quot;&amp;gt;IMMEDIATE&amp;lt;/property&amp;gt;
&amp;lt;property isimportant=&amp;quot;false&amp;quot; name=&amp;quot;ilo_iconId&amp;quot;/&amp;gt;
&amp;lt;property isimportant=&amp;quot;false&amp;quot; name=&amp;quot;hostResource_topologyResourceId&amp;quot;/&amp;gt;
&amp;lt;property isimportant=&amp;quot;false&amp;quot; name=&amp;quot;hostResource_parentType&amp;quot;/&amp;gt;
&amp;lt;property isimportant=&amp;quot;false&amp;quot; name=&amp;quot;orchestratedResourceRole&amp;quot;&amp;gt;S2_ORCHESTRATED&amp;lt;/property&amp;gt;
&amp;lt;property isimportant=&amp;quot;false&amp;quot; name=&amp;quot;templateId&amp;quot;&amp;gt;ba1cfd2c-41b1-4769-b9f6-a0421517109b&amp;lt;/property&amp;gt;
&amp;lt;property isimportant=&amp;quot;false&amp;quot; name=&amp;quot;ilo_shape&amp;quot;&amp;gt;RECTANGLE&amp;lt;/property&amp;gt;
&amp;lt;boundary height=&amp;quot;100&amp;quot; width=&amp;quot;100&amp;quot; x=&amp;quot;357&amp;quot; y=&amp;quot;137&amp;quot;/&amp;gt;
&amp;lt;extensions type=&amp;quot;com.fnfr.rm.condition&amp;quot; xs:namespace=&amp;quot;com.fnfr.rm.condition&amp;quot;/&amp;gt;
&amp;lt;/resource&amp;gt;
&amp;lt;/resources&amp;gt;
&amp;lt;connectivity/&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/tbml&amp;gt;
&lt;/responseRawText&gt;
    &lt;responseRawXML map:nodetype=&quot;token&quot;&gt;
        &lt;tbml map:nodetype=&quot;token&quot; xmlns=&quot;http://www.teslaalliance.org/trs/tbml/1.0&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.teslaalliance.org/trs/tbml/1.0/tbml-core.xsd&quot;&gt;
            &lt;header map:nodetype=&quot;token&quot;&gt;
                &lt;name map:nodetype=&quot;token&quot;&gt;Orchestrated Example 1&lt;/name&gt;
                &lt;description map:nodetype=&quot;token&quot;&gt;One orchestrated resource with no ports&lt;/description&gt;
            &lt;/header&gt;
            &lt;illustration map:nodetype=&quot;token&quot;&gt;
                &lt;layer map:nodetype=&quot;token&quot;/&gt;
            &lt;/illustration&gt;
            &lt;body map:nodetype=&quot;token&quot;&gt;
                &lt;resources map:nodetype=&quot;token&quot;&gt;
                    &lt;resource guid=&quot;9df6af14-11d3-47f6-ac14-dba738731382&quot; id=&quot;i152b9366-2469-4861-8d79-6c140d19d443&quot; map:nodetype=&quot;token&quot; shared=&quot;true&quot; type=&quot;device&quot;&gt;
                        &lt;property isimportant=&quot;false&quot; map:nodetype=&quot;token&quot; name=&quot;name&quot;&gt;Orchestration Example 1&lt;/property&gt;
                        &lt;property isimportant=&quot;false&quot; map:nodetype=&quot;token&quot; name=&quot;description&quot;&gt;Example that demonstrates how a resource can be created and destroyed upon topology activation and termination&lt;/property&gt;
                        &lt;property isimportant=&quot;false&quot; map:nodetype=&quot;token&quot; name=&quot;iconURI&quot;&gt;ilo://api/0/resource/icon?id=9df6af14-11d3-47f6-ac14-dba738731382&lt;/property&gt;
                        &lt;property editable=&quot;false&quot; isimportant=&quot;false&quot; map:nodetype=&quot;token&quot; name=&quot;reservationTime&quot;&gt;IMMEDIATE&lt;/property&gt;
                        &lt;property isimportant=&quot;false&quot; map:nodetype=&quot;token&quot; name=&quot;ilo_iconId&quot;/&gt;
                        &lt;property isimportant=&quot;false&quot; map:nodetype=&quot;token&quot; name=&quot;hostResource_topologyResourceId&quot;/&gt;
                        &lt;property isimportant=&quot;false&quot; map:nodetype=&quot;token&quot; name=&quot;hostResource_parentType&quot;/&gt;
                        &lt;property isimportant=&quot;false&quot; map:nodetype=&quot;token&quot; name=&quot;orchestratedResourceRole&quot;&gt;S2_ORCHESTRATED&lt;/property&gt;
                        &lt;property isimportant=&quot;false&quot; map:nodetype=&quot;token&quot; name=&quot;templateId&quot;&gt;ba1cfd2c-41b1-4769-b9f6-a0421517109b&lt;/property&gt;
                        &lt;property isimportant=&quot;false&quot; map:nodetype=&quot;token&quot; name=&quot;ilo_shape&quot;&gt;RECTANGLE&lt;/property&gt;
                        &lt;boundary height=&quot;100&quot; map:nodetype=&quot;token&quot; width=&quot;100&quot; x=&quot;357&quot; y=&quot;137&quot;/&gt;
                        &lt;extensions map:nodetype=&quot;token&quot; type=&quot;com.fnfr.rm.condition&quot; xs:namespace=&quot;com.fnfr.rm.condition&quot;/&gt;
                    &lt;/resource&gt;
                &lt;/resources&gt;
                &lt;connectivity map:nodetype=&quot;token&quot;/&gt;
            &lt;/body&gt;
        &lt;/tbml&gt;
    &lt;/responseRawXML&gt;
    &lt;responseLine&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;&amp;lt;tbml xmlns=&amp;quot;http://www.teslaalliance.org/trs/tbml/1.0&amp;quot; xmlns:xs=&amp;quot;http://www.w3.org/2001/XMLSchema&amp;quot; xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot; xsi:schemaLocation=&amp;quot;http://www.teslaalliance.org/trs/tbml/1.0/tbml-core.xsd&amp;quot;&amp;gt;&lt;/responseLine&gt;
&lt;/structure&gt;
</structuredData>
                                                                    <aliases>
                                                                        <item name="isEmpty">
                                                                            <queryFormatString>.//isEmpty</queryFormatString>
                                                                        </item>
                                                                        <item name="responseLine">
                                                                            <queryFormatString>.//responseLine</queryFormatString>
                                                                        </item>
                                                                    </aliases>
                                                                    <duration>0.9</duration>
                                                                </behavior>
                                                            </emulation>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="f71ca210-9ebd-4720-a655-51294133a199" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Get template properties &amp; configuration file</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="3a842732-f745-42c7-8c29-f39c109fa88a" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>templateId == &quot;&quot;:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="05cdbc2c-01ba-44d6-b181-271b1b5e95ff" action="call" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>throwErrorMessage -message &quot;Cannot locate orchestrated resource&apos;s template.&quot;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="99943424-c77f-4929-9d80-b443de05cf07" action="GET" session="getReservationResourceProperties1" normalOffset="614.412" estimatedStepExecutionTime="1.59">
                                                            <command>
                                                                <body>/velocity/api/inventory/v12/template/[templateId]</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>mapped/Json/configAssetId</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>configAssetId</storageLocation>
                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>mapped/Json/configURI</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>configURI</storageLocation>
                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>mapped/Json/inheritConfig</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>template_inheritConfig</storageLocation>
                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v12/template/[templateId]" action.inherit="false">
                                                                <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                                                    <memberClasses>
                                                                        <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                                                    </memberClasses>
                                                                    <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry" header="X-Auth-Token" header.inherit="false" value="[token]" value.inherit="false"/>
                                                                </httpHeader>
                                                            </applicationProperties>
                                                            <emulation>
                                                                <behavior>
                                                                    <response>{&quot;id&quot;:&quot;ba1cfd2c-41b1-4769-b9f6-a0421517109b&quot;,&quot;creatorId&quot;:&quot;453a1529-fd12-4291-b30b-5f845a6fdccc&quot;,&quot;created&quot;:1616589744008,&quot;lastModifierId&quot;:&quot;453a1529-fd12-4291-b30b-5f845a6fdccc&quot;,&quot;lastModified&quot;:1616961575149,&quot;name&quot;:&quot;Orchestrated Nesting Example&quot;,&quot;description&quot;:&quot;Example template for a nesting Velocity orchestrated resource&quot;,&quot;type&quot;:&quot;DEVICE&quot;,&quot;parentId&quot;:null,&quot;driverId&quot;:&quot;a989a350-e37e-4e26-a022-5ccd40cc3c69&quot;,&quot;iconId&quot;:null,&quot;lastAction&quot;:&quot;MODIFIED&quot;,&quot;tags&quot;:[],&quot;propertyGroups&quot;:[{&quot;id&quot;:&quot;cbbe826e-6188-453e-9119-281895242671&quot;,&quot;name&quot;:&quot;Group 1&quot;,&quot;isHidden&quot;:false,&quot;properties&quot;:[{&quot;id&quot;:&quot;8fdc2185-3f65-4eb4-9236-8978e812a566&quot;,&quot;name&quot;:&quot;property_toDriver&quot;,&quot;description&quot;:&quot;This property value can be passed to the orchestration driver if it&apos;s included in the manifest.xml file&quot;,&quot;defaultValue&quot;:&quot;foo&quot;,&quot;isRequired&quot;:false,&quot;type&quot;:&quot;TEXT&quot;,&quot;isInherited&quot;:false,&quot;availableValues&quot;:null},{&quot;id&quot;:&quot;2f15d3fc-12c5-44fd-a96b-3f67905b116a&quot;,&quot;name&quot;:&quot;property_fromDriver&quot;,&quot;description&quot;:&quot;Orchestrated resources can return this property value upon initialization&quot;,&quot;defaultValue&quot;:null,&quot;isRequired&quot;:false,&quot;type&quot;:&quot;TEXT&quot;,&quot;isInherited&quot;:false,&quot;availableValues&quot;:null},{&quot;id&quot;:&quot;2e64a57b-6d83-46cd-864f-fae59aaed033&quot;,&quot;name&quot;:&quot;ipAddress&quot;,&quot;description&quot;:&quot;IPv4 address&quot;,&quot;defaultValue&quot;:&quot;null&quot;,&quot;isRequired&quot;:false,&quot;type&quot;:&quot;TEXT&quot;,&quot;isInherited&quot;:false,&quot;availableValues&quot;:null}]}],&quot;portGroups&quot;:[{&quot;id&quot;:null,&quot;name&quot;:&quot;No Group&quot;,&quot;portCount&quot;:0,&quot;parentId&quot;:null}],&quot;configAssetId&quot;:&quot;c5b48397-eea4-423c-9c38-30eecf27b81f&quot;,&quot;firmwareAssetId&quot;:null,&quot;configURI&quot;:null,&quot;firmwareURI&quot;:null,&quot;inheritConfig&quot;:false,&quot;inheritFirmware&quot;:false,&quot;reservationTime&quot;:&quot;IMMEDIATE&quot;,&quot;isShared&quot;:false,&quot;interface&quot;:&quot;ORCHESTRATION&quot;,&quot;isRemoved&quot;:false,&quot;isUpdating&quot;:false,&quot;agentRequirements&quot;:[{&quot;name&quot;:&quot;orchdebug&quot;,&quot;value&quot;:&quot;true&quot;,&quot;executionType&quot;:&quot;CONSIDERED&quot;,&quot;resourceId&quot;:&quot;ba1cfd2c-41b1-4769-b9f6-a0421517109b&quot;,&quot;driverId&quot;:null},{&quot;name&quot;:&quot;pool&quot;,&quot;value&quot;:&quot;driver&quot;,&quot;executionType&quot;:&quot;CONSIDERED&quot;,&quot;resourceId&quot;:&quot;ba1cfd2c-41b1-4769-b9f6-a0421517109b&quot;,&quot;driverId&quot;:&quot;a989a350-e37e-4e26-a022-5ccd40cc3c69&quot;},{&quot;name&quot;:&quot;language&quot;,&quot;value&quot;:&quot;itest&quot;,&quot;executionType&quot;:&quot;CONSIDERED&quot;,&quot;resourceId&quot;:&quot;ba1cfd2c-41b1-4769-b9f6-a0421517109b&quot;,&quot;driverId&quot;:&quot;a989a350-e37e-4e26-a022-5ccd40cc3c69&quot;}]}</response>
                                                                    <responseType>text</responseType>
                                                                    <structuredData>
&lt;structure xmlns:map=&quot;http://www.fnfr.com/svt/mapping&quot;&gt;
    &lt;statusCode value=&quot;200&quot;/&gt;
    &lt;requestHTTPHeaders map:nodetype=&quot;token&quot;&gt;
        &lt;X_Auth_Token map:nodetype=&quot;token&quot;&gt;eyJwYWNrZXQiOiJ7XCJpZFwiOlwic3BpcmVudFwiLFwidXNlcl9uYW1lXCI6XCJzcGlyZW50XCIsXCJkb21haW5cIjpcImxkYXBcIixcInN0YXJ0X3RpbWVcIjoxNjE2OTQyMDk2LFwiZXhwaXJhdGlvblwiOjE2MTcwMjk2OTZ9Iiwic2lnbmF0dXJlIjoiODU0RDg3MDA2RTI5MThEQTZCQzIzQ0NBNEU3Njg4NzUxRDQzRTZGQjU0MzNBRDY4OTNBMTQ1MTg0NDQwMEU4Qjk5NTkyNzhBOTYwRjJBQTJDNjY5OTFBRUEwQkY2MTU0OTFFOEU5MDQ1NDQyNTE3QjNGRkFBODkxNTlENDUxODNFRjVDRTlCM0E2NjExOEZCOEM4NzBCMDQyNjk5OUVCNUY5NjRBQzlBRDc1NjNEQUNCM0Y3QzBDQzU3Q0I4MzRGQ0U3QkQxRDU1NzAxRjhFOUQ1MEFGRjQzNUQwQ0FERUU0QTg4RDM5N0I4RkQwOTNDMUExQjA2RkI1QjZBRDM3N0YwMTYzQkFCMUQwRDA1QzA5NUQ5OUUyOTE1OUMwMTZDN0I3RjQ5OUEzRUM3RjRGMkE5OUU0M0Q1QjFFQkVCNDhERDEzMUIyM0E4Mzk4QkMxRjJDMjA4QURFMjc4M0M2MDg3OUUwNkMzNDgxNkVCNzhGNzVFQTlGOUJBMTgzMzg1RkQ4MDNCRUQyNzUxMTNENEM4MTExQjU0QkFGNzgyRkE5ODdENEMyMDlDOEIxQTQ2NUY2RjdFQTAwQjE0N0NEOUUzMkI4MERFODJCQzVGRjBFRDg3QjRCNTU1MUM5MTQ1MkQwNTRFMUE5OEY2MDAwRTA4RkRDN0FDMkUyN0Q2OUQifQ==&lt;/X_Auth_Token&gt;
        &lt;Cookie map:nodetype=&quot;token&quot;/&gt;
    &lt;/requestHTTPHeaders&gt;
    &lt;requestRawText map:nodetype=&quot;token&quot;/&gt;
    &lt;responseHTTPHeaders map:nodetype=&quot;token&quot;&gt;
        &lt;X_Frame_Options map:nodetype=&quot;token&quot;&gt;SAMEORIGIN&lt;/X_Frame_Options&gt;
        &lt;Server map:nodetype=&quot;token&quot;&gt;nginx&lt;/Server&gt;
        &lt;Cache_Control map:nodetype=&quot;token&quot;&gt;no-cache&lt;/Cache_Control&gt;
        &lt;X_Content_Type_Options map:nodetype=&quot;token&quot;&gt;nosniff&lt;/X_Content_Type_Options&gt;
        &lt;Connection map:nodetype=&quot;token&quot;&gt;keep-alive&lt;/Connection&gt;
        &lt;Content_Length map:nodetype=&quot;token&quot;&gt;2141&lt;/Content_Length&gt;
        &lt;X_XSS_Protection map:nodetype=&quot;token&quot;&gt;1; mode=block&lt;/X_XSS_Protection&gt;
        &lt;Date map:nodetype=&quot;token&quot;&gt;Sun, 28 Mar 2021 20:20:01 GMT&lt;/Date&gt;
        &lt;Content_Type map:nodetype=&quot;token&quot;&gt;application/json&lt;/Content_Type&gt;
        &lt;X_Powered_By map:nodetype=&quot;token&quot;&gt;Undertow/6&lt;/X_Powered_By&gt;
    &lt;/responseHTTPHeaders&gt;
    &lt;responseRawText map:nodetype=&quot;token&quot;&gt;{&amp;quot;id&amp;quot;:&amp;quot;ba1cfd2c-41b1-4769-b9f6-a0421517109b&amp;quot;,&amp;quot;creatorId&amp;quot;:&amp;quot;453a1529-fd12-4291-b30b-5f845a6fdccc&amp;quot;,&amp;quot;created&amp;quot;:1616589744008,&amp;quot;lastModifierId&amp;quot;:&amp;quot;453a1529-fd12-4291-b30b-5f845a6fdccc&amp;quot;,&amp;quot;lastModified&amp;quot;:1616961575149,&amp;quot;name&amp;quot;:&amp;quot;Orchestrated Nesting Example&amp;quot;,&amp;quot;description&amp;quot;:&amp;quot;Example template for a nesting Velocity orchestrated resource&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;DEVICE&amp;quot;,&amp;quot;parentId&amp;quot;:null,&amp;quot;driverId&amp;quot;:&amp;quot;a989a350-e37e-4e26-a022-5ccd40cc3c69&amp;quot;,&amp;quot;iconId&amp;quot;:null,&amp;quot;lastAction&amp;quot;:&amp;quot;MODIFIED&amp;quot;,&amp;quot;tags&amp;quot;:[],&amp;quot;propertyGroups&amp;quot;:[{&amp;quot;id&amp;quot;:&amp;quot;cbbe826e-6188-453e-9119-281895242671&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;Group 1&amp;quot;,&amp;quot;isHidden&amp;quot;:false,&amp;quot;properties&amp;quot;:[{&amp;quot;id&amp;quot;:&amp;quot;8fdc2185-3f65-4eb4-9236-8978e812a566&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;property_toDriver&amp;quot;,&amp;quot;description&amp;quot;:&amp;quot;This property value can be passed to the orchestration driver if it&amp;apos;s included in the manifest.xml file&amp;quot;,&amp;quot;defaultValue&amp;quot;:&amp;quot;foo&amp;quot;,&amp;quot;isRequired&amp;quot;:false,&amp;quot;type&amp;quot;:&amp;quot;TEXT&amp;quot;,&amp;quot;isInherited&amp;quot;:false,&amp;quot;availableValues&amp;quot;:null},{&amp;quot;id&amp;quot;:&amp;quot;2f15d3fc-12c5-44fd-a96b-3f67905b116a&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;property_fromDriver&amp;quot;,&amp;quot;description&amp;quot;:&amp;quot;Orchestrated resources can return this property value upon initialization&amp;quot;,&amp;quot;defaultValue&amp;quot;:null,&amp;quot;isRequired&amp;quot;:false,&amp;quot;type&amp;quot;:&amp;quot;TEXT&amp;quot;,&amp;quot;isInherited&amp;quot;:false,&amp;quot;availableValues&amp;quot;:null},{&amp;quot;id&amp;quot;:&amp;quot;2e64a57b-6d83-46cd-864f-fae59aaed033&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;ipAddress&amp;quot;,&amp;quot;description&amp;quot;:&amp;quot;IPv4 address&amp;quot;,&amp;quot;defaultValue&amp;quot;:&amp;quot;null&amp;quot;,&amp;quot;isRequired&amp;quot;:false,&amp;quot;type&amp;quot;:&amp;quot;TEXT&amp;quot;,&amp;quot;isInherited&amp;quot;:false,&amp;quot;availableValues&amp;quot;:null}]}],&amp;quot;portGroups&amp;quot;:[{&amp;quot;id&amp;quot;:null,&amp;quot;name&amp;quot;:&amp;quot;No Group&amp;quot;,&amp;quot;portCount&amp;quot;:0,&amp;quot;parentId&amp;quot;:null}],&amp;quot;configAssetId&amp;quot;:&amp;quot;c5b48397-eea4-423c-9c38-30eecf27b81f&amp;quot;,&amp;quot;firmwareAssetId&amp;quot;:null,&amp;quot;configURI&amp;quot;:null,&amp;quot;firmwareURI&amp;quot;:null,&amp;quot;inheritConfig&amp;quot;:false,&amp;quot;inheritFirmware&amp;quot;:false,&amp;quot;reservationTime&amp;quot;:&amp;quot;IMMEDIATE&amp;quot;,&amp;quot;isShared&amp;quot;:false,&amp;quot;interface&amp;quot;:&amp;quot;ORCHESTRATION&amp;quot;,&amp;quot;isRemoved&amp;quot;:false,&amp;quot;isUpdating&amp;quot;:false,&amp;quot;agentRequirements&amp;quot;:[{&amp;quot;name&amp;quot;:&amp;quot;orchdebug&amp;quot;,&amp;quot;value&amp;quot;:&amp;quot;true&amp;quot;,&amp;quot;executionType&amp;quot;:&amp;quot;CONSIDERED&amp;quot;,&amp;quot;resourceId&amp;quot;:&amp;quot;ba1cfd2c-41b1-4769-b9f6-a0421517109b&amp;quot;,&amp;quot;driverId&amp;quot;:null},{&amp;quot;name&amp;quot;:&amp;quot;pool&amp;quot;,&amp;quot;value&amp;quot;:&amp;quot;driver&amp;quot;,&amp;quot;executionType&amp;quot;:&amp;quot;CONSIDERED&amp;quot;,&amp;quot;resourceId&amp;quot;:&amp;quot;ba1cfd2c-41b1-4769-b9f6-a0421517109b&amp;quot;,&amp;quot;driverId&amp;quot;:&amp;quot;a989a350-e37e-4e26-a022-5ccd40cc3c69&amp;quot;},{&amp;quot;name&amp;quot;:&amp;quot;language&amp;quot;,&amp;quot;value&amp;quot;:&amp;quot;itest&amp;quot;,&amp;quot;executionType&amp;quot;:&amp;quot;CONSIDERED&amp;quot;,&amp;quot;resourceId&amp;quot;:&amp;quot;ba1cfd2c-41b1-4769-b9f6-a0421517109b&amp;quot;,&amp;quot;driverId&amp;quot;:&amp;quot;a989a350-e37e-4e26-a022-5ccd40cc3c69&amp;quot;}]}&lt;/responseRawText&gt;
    &lt;responseLine&gt;{&amp;quot;id&amp;quot;:&amp;quot;ba1cfd2c-41b1-4769-b9f6-a0421517109b&amp;quot;,&amp;quot;creatorId&amp;quot;:&amp;quot;453a1529-fd12-4291-b30b-5f845a6fdccc&amp;quot;,&amp;quot;created&amp;quot;:1616589744008,&amp;quot;lastModifierId&amp;quot;:&amp;quot;453a1529-fd12-4291-b30b-5f845a6fdccc&amp;quot;,&amp;quot;lastModified&amp;quot;:1616961575149,&amp;quot;name&amp;quot;:&amp;quot;Orchestrated Nesting Example&amp;quot;,&amp;quot;description&amp;quot;:&amp;quot;Example template for a nesting Velocity orchestrated resource&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;DEVICE&amp;quot;,&amp;quot;parentId&amp;quot;:null,&amp;quot;driverId&amp;quot;:&amp;quot;a989a350-e37e-4e26-a022-5ccd40cc3c69&amp;quot;,&amp;quot;iconId&amp;quot;:null,&amp;quot;lastAction&amp;quot;:&amp;quot;MODIFIED&amp;quot;,&amp;quot;tags&amp;quot;:[],&amp;quot;propertyGroups&amp;quot;:[{&amp;quot;id&amp;quot;:&amp;quot;cbbe826e-6188-453e-9119-281895242671&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;Group 1&amp;quot;,&amp;quot;isHidden&amp;quot;:false,&amp;quot;properties&amp;quot;:[{&amp;quot;id&amp;quot;:&amp;quot;8fdc2185-3f65-4eb4-9236-8978e812a566&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;property_toDriver&amp;quot;,&amp;quot;description&amp;quot;:&amp;quot;This property value can be passed to the orchestration driver if it&amp;apos;s included in the manifest.xml file&amp;quot;,&amp;quot;defaultValue&amp;quot;:&amp;quot;foo&amp;quot;,&amp;quot;isRequired&amp;quot;:false,&amp;quot;type&amp;quot;:&amp;quot;TEXT&amp;quot;,&amp;quot;isInherited&amp;quot;:false,&amp;quot;availableValues&amp;quot;:null},{&amp;quot;id&amp;quot;:&amp;quot;2f15d3fc-12c5-44fd-a96b-3f67905b116a&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;property_fromDriver&amp;quot;,&amp;quot;description&amp;quot;:&amp;quot;Orchestrated resources can return this property value upon initialization&amp;quot;,&amp;quot;defaultValue&amp;quot;:null,&amp;quot;isRequired&amp;quot;:false,&amp;quot;type&amp;quot;:&amp;quot;TEXT&amp;quot;,&amp;quot;isInherited&amp;quot;:false,&amp;quot;availableValues&amp;quot;:null},{&amp;quot;id&amp;quot;:&amp;quot;2e64a57b-6d83-46cd-864f-fae59aaed033&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;ipAddress&amp;quot;,&amp;quot;description&amp;quot;:&amp;quot;IPv4 address&amp;quot;,&amp;quot;defaultValue&amp;quot;:&amp;quot;null&amp;quot;,&amp;quot;isRequired&amp;quot;:false,&amp;quot;type&amp;quot;:&amp;quot;TEXT&amp;quot;,&amp;quot;isInherited&amp;quot;:false,&amp;quot;availableValues&amp;quot;:null}]}],&amp;quot;portGroups&amp;quot;:[{&amp;quot;id&amp;quot;:null,&amp;quot;name&amp;quot;:&amp;quot;No Group&amp;quot;,&amp;quot;portCount&amp;quot;:0,&amp;quot;parentId&amp;quot;:null}],&amp;quot;configAssetId&amp;quot;:&amp;quot;c5b48397-eea4-423c-9c38-30eecf27b81f&amp;quot;,&amp;quot;firmwareAssetId&amp;quot;:null,&amp;quot;configURI&amp;quot;:null,&amp;quot;firmwareURI&amp;quot;:null,&amp;quot;inheritConfig&amp;quot;:false,&amp;quot;inheritFirmware&amp;quot;:false,&amp;quot;reservationTime&amp;quot;:&amp;quot;IMMEDIATE&amp;quot;,&amp;quot;isShared&amp;quot;:false,&amp;quot;interface&amp;quot;:&amp;quot;ORCHESTRATION&amp;quot;,&amp;quot;isRemoved&amp;quot;:false,&amp;quot;isUpdating&amp;quot;:false,&amp;quot;agentRequirements&amp;quot;:[{&amp;quot;name&amp;quot;:&amp;quot;orchdebug&amp;quot;,&amp;quot;value&amp;quot;:&amp;quot;true&amp;quot;,&amp;quot;executionType&amp;quot;:&amp;quot;CONSIDERED&amp;quot;,&amp;quot;resourceId&amp;quot;:&amp;quot;ba1cfd2c-41b1-4769-b9f6-a0421517109b&amp;quot;,&amp;quot;driverId&amp;quot;:null},{&amp;quot;name&amp;quot;:&amp;quot;pool&amp;quot;,&amp;quot;value&amp;quot;:&amp;quot;driver&amp;quot;,&amp;quot;executionType&amp;quot;:&amp;quot;CONSIDERED&amp;quot;,&amp;quot;resourceId&amp;quot;:&amp;quot;ba1cfd2c-41b1-4769-b9f6-a0421517109b&amp;quot;,&amp;quot;driverId&amp;quot;:&amp;quot;a989a350-e37e-4e26-a022-5ccd40cc3c69&amp;quot;},{&amp;quot;name&amp;quot;:&amp;quot;language&amp;quot;,&amp;quot;value&amp;quot;:&amp;quot;itest&amp;quot;,&amp;quot;executionType&amp;quot;:&amp;quot;CONSIDERED&amp;quot;,&amp;quot;resourceId&amp;quot;:&amp;quot;ba1cfd2c-41b1-4769-b9f6-a0421517109b&amp;quot;,&amp;quot;driverId&amp;quot;:&amp;quot;a989a350-e37e-4e26-a022-5ccd40cc3c69&amp;quot;}]}&lt;/responseLine&gt;
&lt;/structure&gt;
</structuredData>
                                                                    <aliases>
                                                                        <item name="isEmpty">
                                                                            <queryFormatString>.//isEmpty</queryFormatString>
                                                                        </item>
                                                                        <item name="responseLine">
                                                                            <queryFormatString>.//responseLine</queryFormatString>
                                                                        </item>
                                                                        <item name="inheritFirmware">
                                                                            <queryFormatString>mapped/Json/inheritFirmware</queryFormatString>
                                                                        </item>
                                                                        <item name="configURI">
                                                                            <queryFormatString>mapped/Json/configURI</queryFormatString>
                                                                        </item>
                                                                        <item name="creatorId">
                                                                            <queryFormatString>mapped/Json/creatorId</queryFormatString>
                                                                        </item>
                                                                        <item name="description">
                                                                            <queryFormatString>mapped/Json/description</queryFormatString>
                                                                        </item>
                                                                        <item name="type">
                                                                            <queryFormatString>mapped/Json/type</queryFormatString>
                                                                        </item>
                                                                        <item name="interface">
                                                                            <queryFormatString>mapped/Json/interface</queryFormatString>
                                                                        </item>
                                                                        <item name="configAssetId">
                                                                            <queryFormatString>mapped/Json/configAssetId</queryFormatString>
                                                                        </item>
                                                                        <item name="isRemoved">
                                                                            <queryFormatString>mapped/Json/isRemoved</queryFormatString>
                                                                        </item>
                                                                        <item name="lastAction">
                                                                            <queryFormatString>mapped/Json/lastAction</queryFormatString>
                                                                        </item>
                                                                        <item name="lastModifierId">
                                                                            <queryFormatString>mapped/Json/lastModifierId</queryFormatString>
                                                                        </item>
                                                                        <item name="id">
                                                                            <queryFormatString>mapped/Json/id</queryFormatString>
                                                                        </item>
                                                                        <item name="inheritConfig">
                                                                            <queryFormatString>mapped/Json/inheritConfig</queryFormatString>
                                                                        </item>
                                                                        <item name="isUpdating">
                                                                            <queryFormatString>mapped/Json/isUpdating</queryFormatString>
                                                                        </item>
                                                                        <item name="iconId">
                                                                            <queryFormatString>mapped/Json/iconId</queryFormatString>
                                                                        </item>
                                                                        <item name="created">
                                                                            <queryFormatString>mapped/Json/created</queryFormatString>
                                                                        </item>
                                                                        <item name="reservationTime">
                                                                            <queryFormatString>mapped/Json/reservationTime</queryFormatString>
                                                                        </item>
                                                                        <item name="firmwareURI">
                                                                            <queryFormatString>mapped/Json/firmwareURI</queryFormatString>
                                                                        </item>
                                                                        <item name="parentId">
                                                                            <queryFormatString>mapped/Json/parentId</queryFormatString>
                                                                        </item>
                                                                        <item name="tags">
                                                                            <queryFormatString>mapped/Json/tags</queryFormatString>
                                                                        </item>
                                                                        <item name="propertyGroups">
                                                                            <queryFormatString>mapped/Json/propertyGroups</queryFormatString>
                                                                        </item>
                                                                        <item name="agentRequirements">
                                                                            <queryFormatString>mapped/Json/agentRequirements</queryFormatString>
                                                                        </item>
                                                                        <item name="driverId">
                                                                            <queryFormatString>mapped/Json/driverId</queryFormatString>
                                                                        </item>
                                                                        <item name="name">
                                                                            <queryFormatString>mapped/Json/name</queryFormatString>
                                                                        </item>
                                                                        <item name="firmwareAssetId">
                                                                            <queryFormatString>mapped/Json/firmwareAssetId</queryFormatString>
                                                                        </item>
                                                                        <item name="lastModified">
                                                                            <queryFormatString>mapped/Json/lastModified</queryFormatString>
                                                                        </item>
                                                                        <item name="portGroups">
                                                                            <queryFormatString>mapped/Json/portGroups</queryFormatString>
                                                                        </item>
                                                                        <item name="isShared">
                                                                            <queryFormatString>mapped/Json/isShared</queryFormatString>
                                                                        </item>
                                                                    </aliases>
                                                                    <duration>1.9</duration>
                                                                </behavior>
                                                            </emulation>
                                                        </item>
                                                        <item guid="37583613-4813-40e3-a351-963624326239" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>template_inheritConfig == &quot;true&quot;:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="def2fea9-8ce9-47c2-986e-5d90a7f8b83f" action="comment" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>In this case, the resource uses inherit (from its template) and that template also inherits from its parent&apos;s template</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="1dbb40f5-e022-428c-b6cc-63c93a5246be" action="comment" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>No support for this currently</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="cb197f85-703d-42a1-a54a-b830677dde5e" action="call" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>throwErrorMessage -message &quot;Driver lacks support to find the resource&apos;s template&apos;s parent&apos;s configuration settings&quot;</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="75fc3361-5366-4bfd-bf81-dd568866c622" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="c21d183c-fd9a-4258-83a6-3a49914c7723" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Configuration must have been &quot;Custom URI&quot;, &quot;Upload&quot; or &quot;Browse&quot; (File Store)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="6da2cf12-cba8-4159-88dc-e4159e97c441" action="if" useFieldsInCommand="false">
                            <command>
                                <body>ConfigurationFile != &quot;none&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="8d3fece6-d4c5-4cd0-9092-000692869c9d" action="call" useFieldsInCommand="false">
                                    <command>
                                        <body>downloadConfigurationFile -configAssetId [configAssetId] -session_id getReservationResourceProperties1 -token [token] -url [url] -reservationId [reservationId] -configURI [configURI]</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>ConfigurationFile</storeResponseAt>
                                        <storeResponseText>true</storeResponseText>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="789f2bb8-e7a1-4152-a791-b00179a254fe" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Finish up</body>
                    </command>
                    <nestedSteps>
                        <item guid="a31a165f-ff91-4788-84ba-3108b9f321e7" action="close" session="getReservationResourceProperties1" normalOffset="89.322">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <emulation>
                                <behavior>
                                    <structuredData>
&lt;structure xmlns:map=&quot;http://www.fnfr.com/svt/mapping&quot;&gt;
    &lt;responseLine/&gt;
&lt;/structure&gt;
</structuredData>
                                    <aliases>
                                        <item name="isEmpty">
                                            <queryFormatString>.//isEmpty</queryFormatString>
                                        </item>
                                        <item name="responseLine">
                                            <queryFormatString>.//responseLine</queryFormatString>
                                        </item>
                                    </aliases>
                                    <duration>0.1</duration>
                                </behavior>
                            </emulation>
                        </item>
                        <item guid="f9365cf0-b570-44c5-8331-b5d42a501b68" action="json" useFieldsInCommand="false">
                            <command>
                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=&apos;true&apos;, pathValue=&apos;{&quot;ConfigFile&quot;:&quot;[ConfigurationFile]&quot;}&apos;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">setJsonValue</action>
                                <pathValue inherit="false" sub="true">{&quot;ConfigFile&quot;:&quot;[ConfigurationFile]&quot;}</pathValue>
                                <editResponseStructure inherit="false">true</editResponseStructure>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="reservationId">
                    <description>Velocity reservation ID</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="init_topologyResourceId">
                    <description>Resource ID in topology</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="url">
                    <description>Velocity URL</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="token">
                    <description>Velocity API token</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{&quot;ConfigFile&quot;:&quot;&quot;}</response>
        </item>
        <item name="downloadConfigurationFile" isPublic="true" defaultSessionProfile="application:com.fnfr.itest.applications.webservices.restful">
            <steps>
                <item guid="2530396c-44c3-49fd-b9e3-2437039a80ab" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Make ready a download location for the configuration file</body>
                    </command>
                    <nestedSteps>
                        <item guid="6e12f0b9-965d-45cd-ae10-518f688a7c40" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>path_file = info(&apos;tempDir&apos;, &apos;uri&apos;) + &quot;/deployment_&quot; + reservationId</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="67ec95d3-bb58-408c-b765-5880e6e55879" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>path_file = file_uriToPath(path_file)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="02489647-9e39-4046-805c-b92ecf666a01" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(path_file)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="8bd15b51-fd37-4057-93cb-cd2f938ea8a4" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Download configuration file to temporary location on agent</body>
                    </command>
                    <nestedSteps>
                        <item guid="0ff87beb-44ed-4eb7-aef4-9d7208cfaec9" action="if" useFieldsInCommand="false">
                            <command>
                                <body>configAssetId != &quot;&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="055898fd-8f06-467e-a730-bc88a929c342" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Download the configuration file that was &quot;uploaded&quot; previously to Velocity</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="73f2af30-5a54-4a3f-9d00-041ea838af4d" action="GET" session="[session_id]" normalOffset="556.221" estimatedStepExecutionTime="1.528">
                                            <command>
                                                <body>/velocity/api/repository/v4/asset/[configAssetId]</body>
                                            </command>
                                            <postProcessing>
                                                <storeResponseText>true</storeResponseText>
                                                <responseFile inherit="false" sub="true">[path_file]</responseFile>
                                                <appendCommand inherit="false">false</appendCommand>
                                                <appendTimestamp inherit="false">false</appendTimestamp>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" action="/velocity/api/repository/v4/asset/[configAssetId]" action.inherit="false">
                                                <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                                    <memberClasses>
                                                        <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                                    </memberClasses>
                                                    <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry" header="X-Auth-Token" header.inherit="false" value="[token]" value.inherit="false"/>
                                                </httpHeader>
                                            </applicationProperties>
                                            <emulation>
                                                <behavior>
                                                    <response>{
  &quot;args&quot;: {
    &quot;source&quot;: &quot;template&quot;
  }, 
  &quot;data&quot;: &quot;&quot;, 
  &quot;files&quot;: {}, 
  &quot;form&quot;: {}, 
  &quot;headers&quot;: {
    &quot;Accept&quot;: &quot;*/*&quot;, 
    &quot;Host&quot;: &quot;httpbin.org&quot;, 
    &quot;User-Agent&quot;: &quot;curl/7.64.1&quot;, 
    &quot;X-Amzn-Trace-Id&quot;: &quot;Root=1-606097b2-5f7665034144ac766c3c6c16&quot;
  }, 
  &quot;json&quot;: null, 
  &quot;method&quot;: &quot;GET&quot;, 
  &quot;origin&quot;: &quot;70.112.201.151&quot;, 
  &quot;url&quot;: &quot;https://httpbin.org/anything?source=template&quot;
}
</response>
                                                    <responseType>text</responseType>
                                                    <structuredData>
&lt;structure xmlns:map=&quot;http://www.fnfr.com/svt/mapping&quot;&gt;
    &lt;statusCode value=&quot;200&quot;/&gt;
    &lt;requestHTTPHeaders map:nodetype=&quot;token&quot;&gt;
        &lt;X_Auth_Token map:nodetype=&quot;token&quot;&gt;eyJwYWNrZXQiOiJ7XCJpZFwiOlwic3BpcmVudFwiLFwidXNlcl9uYW1lXCI6XCJzcGlyZW50XCIsXCJkb21haW5cIjpcImxkYXBcIixcInN0YXJ0X3RpbWVcIjoxNjE2OTQyMDk2LFwiZXhwaXJhdGlvblwiOjE2MTcwMjk2OTZ9Iiwic2lnbmF0dXJlIjoiODU0RDg3MDA2RTI5MThEQTZCQzIzQ0NBNEU3Njg4NzUxRDQzRTZGQjU0MzNBRDY4OTNBMTQ1MTg0NDQwMEU4Qjk5NTkyNzhBOTYwRjJBQTJDNjY5OTFBRUEwQkY2MTU0OTFFOEU5MDQ1NDQyNTE3QjNGRkFBODkxNTlENDUxODNFRjVDRTlCM0E2NjExOEZCOEM4NzBCMDQyNjk5OUVCNUY5NjRBQzlBRDc1NjNEQUNCM0Y3QzBDQzU3Q0I4MzRGQ0U3QkQxRDU1NzAxRjhFOUQ1MEFGRjQzNUQwQ0FERUU0QTg4RDM5N0I4RkQwOTNDMUExQjA2RkI1QjZBRDM3N0YwMTYzQkFCMUQwRDA1QzA5NUQ5OUUyOTE1OUMwMTZDN0I3RjQ5OUEzRUM3RjRGMkE5OUU0M0Q1QjFFQkVCNDhERDEzMUIyM0E4Mzk4QkMxRjJDMjA4QURFMjc4M0M2MDg3OUUwNkMzNDgxNkVCNzhGNzVFQTlGOUJBMTgzMzg1RkQ4MDNCRUQyNzUxMTNENEM4MTExQjU0QkFGNzgyRkE5ODdENEMyMDlDOEIxQTQ2NUY2RjdFQTAwQjE0N0NEOUUzMkI4MERFODJCQzVGRjBFRDg3QjRCNTU1MUM5MTQ1MkQwNTRFMUE5OEY2MDAwRTA4RkRDN0FDMkUyN0Q2OUQifQ==&lt;/X_Auth_Token&gt;
        &lt;Cookie map:nodetype=&quot;token&quot;/&gt;
    &lt;/requestHTTPHeaders&gt;
    &lt;requestRawText map:nodetype=&quot;token&quot;/&gt;
    &lt;responseHTTPHeaders map:nodetype=&quot;token&quot;&gt;
        &lt;X_Frame_Options map:nodetype=&quot;token&quot;&gt;SAMEORIGIN&lt;/X_Frame_Options&gt;
        &lt;Server map:nodetype=&quot;token&quot;&gt;nginx&lt;/Server&gt;
        &lt;Cache_Control map:nodetype=&quot;token&quot;&gt;no-transform, max-age=86400&lt;/Cache_Control&gt;
        &lt;ETag map:nodetype=&quot;token&quot;&gt;&amp;quot;c5b48397-eea4-423c-9c38-30eecf27b81f&amp;quot;&lt;/ETag&gt;
        &lt;X_Content_Type_Options map:nodetype=&quot;token&quot;&gt;nosniff&lt;/X_Content_Type_Options&gt;
        &lt;Connection map:nodetype=&quot;token&quot;&gt;keep-alive&lt;/Connection&gt;
        &lt;Content_Length map:nodetype=&quot;token&quot;&gt;388&lt;/Content_Length&gt;
        &lt;X_XSS_Protection map:nodetype=&quot;token&quot;&gt;1; mode=block&lt;/X_XSS_Protection&gt;
        &lt;Date map:nodetype=&quot;token&quot;&gt;Sun, 28 Mar 2021 20:20:03 GMT&lt;/Date&gt;
        &lt;Content_Type map:nodetype=&quot;token&quot;&gt;application/json&lt;/Content_Type&gt;
        &lt;X_Powered_By map:nodetype=&quot;token&quot;&gt;Undertow/6&lt;/X_Powered_By&gt;
    &lt;/responseHTTPHeaders&gt;
    &lt;responseRawText map:nodetype=&quot;token&quot;&gt;{
  &amp;quot;args&amp;quot;: {
    &amp;quot;source&amp;quot;: &amp;quot;template&amp;quot;
  }, 
  &amp;quot;data&amp;quot;: &amp;quot;&amp;quot;, 
  &amp;quot;files&amp;quot;: {}, 
  &amp;quot;form&amp;quot;: {}, 
  &amp;quot;headers&amp;quot;: {
    &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;, 
    &amp;quot;Host&amp;quot;: &amp;quot;httpbin.org&amp;quot;, 
    &amp;quot;User-Agent&amp;quot;: &amp;quot;curl/7.64.1&amp;quot;, 
    &amp;quot;X-Amzn-Trace-Id&amp;quot;: &amp;quot;Root=1-606097b2-5f7665034144ac766c3c6c16&amp;quot;
  }, 
  &amp;quot;json&amp;quot;: null, 
  &amp;quot;method&amp;quot;: &amp;quot;GET&amp;quot;, 
  &amp;quot;origin&amp;quot;: &amp;quot;70.112.201.151&amp;quot;, 
  &amp;quot;url&amp;quot;: &amp;quot;https://httpbin.org/anything?source=template&amp;quot;
}
&lt;/responseRawText&gt;
    &lt;responseLine&gt;{&lt;/responseLine&gt;
&lt;/structure&gt;
</structuredData>
                                                    <aliases>
                                                        <item name="isEmpty">
                                                            <queryFormatString>.//isEmpty</queryFormatString>
                                                        </item>
                                                        <item name="responseLine">
                                                            <queryFormatString>.//responseLine</queryFormatString>
                                                        </item>
                                                    </aliases>
                                                    <duration>1.2</duration>
                                                </behavior>
                                            </emulation>
                                        </item>
                                        <item guid="b0e701ec-7e1a-496d-a40a-c98da3298ff3" action="readFile" skip="true">
                                            <command>
                                                <body>[path_file]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.ReadFilePropertyGroup"/>
                                        </item>
                                        <item guid="b6d01fff-e721-4fee-ac23-91389484ef25" action="return">
                                            <command>
                                                <body>[path_file]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="474d2c86-0b1f-4d65-82cc-94c6d61d0bc7" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="f90526ac-6f17-497a-9bc7-7005e4ee9149" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Download the configuration file from a custom URI or File Store</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="1bed1702-102f-4bdb-ba0f-9f8bfdd7d3bb" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>configURI != &quot;&quot;:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="4319339c-e8c2-4f73-92a6-41985fd1c03c" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Download configuration file based on URI</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="dae3a34e-2823-46a7-b273-20cb9cf91494" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>fileStoreId = &quot;&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="ae73ba2a-9061-4e47-b9a1-3cb5b0a61f40" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>username = &quot;&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="f70d1f3d-4b4b-496a-b423-59e49212f3b6" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>password = &quot;&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="c5e3f14e-f426-46b0-89af-a1c3fdaa8e10" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>configURI.startswith(&apos;vfs:&apos;):</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="7d373067-48bf-4e0b-89c4-d8e386cc0b68" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>print(configURI)</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                <query>vfs()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>fileStoreId</storageLocation>
                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="583bb922-5424-4012-9e01-3f264bff2731" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>fileStoreId != &quot;&quot; and fileStoreId != &quot;{}&quot;:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="a6488c3a-db29-46ca-8d59-d5305a5ac6cd" action="comment" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Get configURI from fileStore</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="1d54783c-e53c-4327-b295-070a154e671d" action="GET" session="[session_id]" normalOffset="58.138" estimatedStepExecutionTime="2.435">
                                                                    <command>
                                                                        <body>/velocity/api/filestore/v1/store/[fileStoreId]</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <analysisRules>
                                                                            <item>
                                                                                <extractorInfo extractorType="query">
                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                        <query>mapped/Json/properties/baseURL</query>
                                                                                    </extractorProperties>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="store">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                        <storageLocation>baseURL</storageLocation>
                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                            <item>
                                                                                <extractorInfo extractorType="query">
                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                        <query>mapped/Json/properties/username</query>
                                                                                    </extractorProperties>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="store">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                        <storageLocation>username</storageLocation>
                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                            <item>
                                                                                <extractorInfo extractorType="query">
                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                        <query>mapped/Json/properties/password</query>
                                                                                    </extractorProperties>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="store">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                        <storageLocation>password</storageLocation>
                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                        </analysisRules>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/filestore/v1/store/[fileStoreId]" action.inherit="false">
                                                                        <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                                        <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                                                            <memberClasses>
                                                                                <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                                                            </memberClasses>
                                                                            <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry" header="X-Auth-Token" header.inherit="false" value="[token]" value.inherit="false"/>
                                                                        </httpHeader>
                                                                    </applicationProperties>
                                                                    <emulation>
                                                                        <behavior>
                                                                            <response>{&quot;id&quot;:&quot;3a220c15-5f8e-42cc-9457-3c33093d828e&quot;,&quot;creatorId&quot;:&quot;453a1529-fd12-4291-b30b-5f845a6fdccc&quot;,&quot;created&quot;:1616963208230,&quot;lastModifierId&quot;:&quot;453a1529-fd12-4291-b30b-5f845a6fdccc&quot;,&quot;lastModified&quot;:1616963208230,&quot;name&quot;:&quot;FS1&quot;,&quot;description&quot;:null,&quot;properties&quot;:{&quot;baseURL&quot;:&quot;https://httpbin.org/anything&quot;,&quot;password&quot;:&quot;spirent&quot;,&quot;filemap&quot;:&quot;{\\n\\&quot;file1\\&quot;: {},\\n\\&quot;file2\\&quot;: {}\\n}&quot;,&quot;username&quot;:&quot;spirent&quot;}}</response>
                                                                            <responseType>text</responseType>
                                                                            <structuredData>
&lt;structure xmlns:map=&quot;http://www.fnfr.com/svt/mapping&quot;&gt;
    &lt;statusCode value=&quot;200&quot;/&gt;
    &lt;requestHTTPHeaders map:nodetype=&quot;token&quot;&gt;
        &lt;X_Auth_Token map:nodetype=&quot;token&quot;&gt;eyJwYWNrZXQiOiJ7XCJpZFwiOlwic3BpcmVudFwiLFwidXNlcl9uYW1lXCI6XCJzcGlyZW50XCIsXCJkb21haW5cIjpcImxkYXBcIixcInN0YXJ0X3RpbWVcIjoxNjE2OTQyMDk2LFwiZXhwaXJhdGlvblwiOjE2MTcwMjk2OTZ9Iiwic2lnbmF0dXJlIjoiODU0RDg3MDA2RTI5MThEQTZCQzIzQ0NBNEU3Njg4NzUxRDQzRTZGQjU0MzNBRDY4OTNBMTQ1MTg0NDQwMEU4Qjk5NTkyNzhBOTYwRjJBQTJDNjY5OTFBRUEwQkY2MTU0OTFFOEU5MDQ1NDQyNTE3QjNGRkFBODkxNTlENDUxODNFRjVDRTlCM0E2NjExOEZCOEM4NzBCMDQyNjk5OUVCNUY5NjRBQzlBRDc1NjNEQUNCM0Y3QzBDQzU3Q0I4MzRGQ0U3QkQxRDU1NzAxRjhFOUQ1MEFGRjQzNUQwQ0FERUU0QTg4RDM5N0I4RkQwOTNDMUExQjA2RkI1QjZBRDM3N0YwMTYzQkFCMUQwRDA1QzA5NUQ5OUUyOTE1OUMwMTZDN0I3RjQ5OUEzRUM3RjRGMkE5OUU0M0Q1QjFFQkVCNDhERDEzMUIyM0E4Mzk4QkMxRjJDMjA4QURFMjc4M0M2MDg3OUUwNkMzNDgxNkVCNzhGNzVFQTlGOUJBMTgzMzg1RkQ4MDNCRUQyNzUxMTNENEM4MTExQjU0QkFGNzgyRkE5ODdENEMyMDlDOEIxQTQ2NUY2RjdFQTAwQjE0N0NEOUUzMkI4MERFODJCQzVGRjBFRDg3QjRCNTU1MUM5MTQ1MkQwNTRFMUE5OEY2MDAwRTA4RkRDN0FDMkUyN0Q2OUQifQ==&lt;/X_Auth_Token&gt;
        &lt;Cookie map:nodetype=&quot;token&quot;/&gt;
    &lt;/requestHTTPHeaders&gt;
    &lt;requestRawText map:nodetype=&quot;token&quot;/&gt;
    &lt;responseHTTPHeaders map:nodetype=&quot;token&quot;&gt;
        &lt;X_Frame_Options map:nodetype=&quot;token&quot;&gt;SAMEORIGIN&lt;/X_Frame_Options&gt;
        &lt;Server map:nodetype=&quot;token&quot;&gt;nginx&lt;/Server&gt;
        &lt;Cache_Control map:nodetype=&quot;token&quot;&gt;no-cache&lt;/Cache_Control&gt;
        &lt;X_Content_Type_Options map:nodetype=&quot;token&quot;&gt;nosniff&lt;/X_Content_Type_Options&gt;
        &lt;Connection map:nodetype=&quot;token&quot;&gt;keep-alive&lt;/Connection&gt;
        &lt;Content_Length map:nodetype=&quot;token&quot;&gt;383&lt;/Content_Length&gt;
        &lt;X_XSS_Protection map:nodetype=&quot;token&quot;&gt;1; mode=block&lt;/X_XSS_Protection&gt;
        &lt;Date map:nodetype=&quot;token&quot;&gt;Sun, 28 Mar 2021 20:27:45 GMT&lt;/Date&gt;
        &lt;Content_Type map:nodetype=&quot;token&quot;&gt;application/json&lt;/Content_Type&gt;
        &lt;X_Powered_By map:nodetype=&quot;token&quot;&gt;Undertow/6&lt;/X_Powered_By&gt;
    &lt;/responseHTTPHeaders&gt;
    &lt;responseRawText map:nodetype=&quot;token&quot;&gt;{&amp;quot;id&amp;quot;:&amp;quot;3a220c15-5f8e-42cc-9457-3c33093d828e&amp;quot;,&amp;quot;creatorId&amp;quot;:&amp;quot;453a1529-fd12-4291-b30b-5f845a6fdccc&amp;quot;,&amp;quot;created&amp;quot;:1616963208230,&amp;quot;lastModifierId&amp;quot;:&amp;quot;453a1529-fd12-4291-b30b-5f845a6fdccc&amp;quot;,&amp;quot;lastModified&amp;quot;:1616963208230,&amp;quot;name&amp;quot;:&amp;quot;FS1&amp;quot;,&amp;quot;description&amp;quot;:null,&amp;quot;properties&amp;quot;:{&amp;quot;baseURL&amp;quot;:&amp;quot;https://httpbin.org/anything&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;spirent&amp;quot;,&amp;quot;filemap&amp;quot;:&amp;quot;{\\\\\\\\n\\\\\\\\&amp;quot;file1\\\\\\\\&amp;quot;: {},\\\\\\\\n\\\\\\\\&amp;quot;file2\\\\\\\\&amp;quot;: {}\\\\\\\\n}&amp;quot;,&amp;quot;username&amp;quot;:&amp;quot;spirent&amp;quot;}}&lt;/responseRawText&gt;
    &lt;responseLine&gt;{&amp;quot;id&amp;quot;:&amp;quot;3a220c15-5f8e-42cc-9457-3c33093d828e&amp;quot;,&amp;quot;creatorId&amp;quot;:&amp;quot;453a1529-fd12-4291-b30b-5f845a6fdccc&amp;quot;,&amp;quot;created&amp;quot;:1616963208230,&amp;quot;lastModifierId&amp;quot;:&amp;quot;453a1529-fd12-4291-b30b-5f845a6fdccc&amp;quot;,&amp;quot;lastModified&amp;quot;:1616963208230,&amp;quot;name&amp;quot;:&amp;quot;FS1&amp;quot;,&amp;quot;description&amp;quot;:null,&amp;quot;properties&amp;quot;:{&amp;quot;baseURL&amp;quot;:&amp;quot;https://httpbin.org/anything&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;spirent&amp;quot;,&amp;quot;filemap&amp;quot;:&amp;quot;{\\\\n\\\\&amp;quot;file1\\\\&amp;quot;: {},\\\\n\\\\&amp;quot;file2\\\\&amp;quot;: {}\\\\n}&amp;quot;,&amp;quot;username&amp;quot;:&amp;quot;spirent&amp;quot;}}&lt;/responseLine&gt;
&lt;/structure&gt;
</structuredData>
                                                                            <aliases>
                                                                                <item name="isEmpty">
                                                                                    <queryFormatString>.//isEmpty</queryFormatString>
                                                                                </item>
                                                                                <item name="responseLine">
                                                                                    <queryFormatString>.//responseLine</queryFormatString>
                                                                                </item>
                                                                                <item name="created">
                                                                                    <queryFormatString>mapped/Json/created</queryFormatString>
                                                                                </item>
                                                                                <item name="creatorId">
                                                                                    <queryFormatString>mapped/Json/creatorId</queryFormatString>
                                                                                </item>
                                                                                <item name="name">
                                                                                    <queryFormatString>mapped/Json/name</queryFormatString>
                                                                                </item>
                                                                                <item name="lastModifierId">
                                                                                    <queryFormatString>mapped/Json/lastModifierId</queryFormatString>
                                                                                </item>
                                                                                <item name="description">
                                                                                    <queryFormatString>mapped/Json/description</queryFormatString>
                                                                                </item>
                                                                                <item name="id">
                                                                                    <queryFormatString>mapped/Json/id</queryFormatString>
                                                                                </item>
                                                                                <item name="lastModified">
                                                                                    <queryFormatString>mapped/Json/lastModified</queryFormatString>
                                                                                </item>
                                                                                <item name="properties">
                                                                                    <queryFormatString>mapped/Json/properties</queryFormatString>
                                                                                </item>
                                                                            </aliases>
                                                                            <duration>0.6</duration>
                                                                        </behavior>
                                                                    </emulation>
                                                                </item>
                                                                <item guid="5f6b5112-0e7a-49ed-a518-b80c0f8ec490" action="if" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>baseURL == &quot;&quot;:</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="6c01105b-513b-4ebb-8a5c-1ec4d096b814" action="message" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>Error:Base URL is empty</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                                <severity inherit="false">Error</severity>
                                                                                <message inherit="false">Base URL is empty</message>
                                                                            </applicationProperties>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="fa5ec83e-84d9-4a56-aca5-f17f617a2ab3" action="elif" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>baseURL.endswith(&quot;/&quot;):</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="b22bd4f7-5497-4799-86b7-d858c0388d5e" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>baseURL = baseURL[:-1]</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="86f246f8-2d67-49c7-95fe-7dee7dce9529" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>configURI = configURI.replace(&quot;vfs://{0}&quot;.format(fileStoreId), baseURL)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="3f2a09ad-b418-47ca-be7c-b0f21e910826" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>print(configURI)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="87328668-7027-4e4a-8d41-c58e7709289e" action="call" useFieldsInCommand="false">
                                                    <command>
                                                        <body>downloadFromFileStore -fullURL [configURI] -username [username] -password [password] -folderToSave [path_file]</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>filePath</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <emulation>
                                                        <behavior>
                                                            <response>/var/folders/w5/pz82m2s92jn3pfvkdp74j_fc0000gq/T/deployment_d34d5697-ad5d-4866-af11-41ed5c557ec5/s2</response>
                                                            <responseType>text</responseType>
                                                            <structuredData>
&lt;structure xmlns:map=&quot;http://www.fnfr.com/svt/mapping&quot;&gt;
    &lt;isEmpty&gt;false&lt;/isEmpty&gt;
    &lt;responseLine&gt;/var/folders/w5/pz82m2s92jn3pfvkdp74j_fc0000gq/T/deployment_d34d5697-ad5d-4866-af11-41ed5c557ec5/s2&lt;/responseLine&gt;
&lt;/structure&gt;
</structuredData>
                                                            <aliases>
                                                                <item name="isEmpty">
                                                                    <queryFormatString>.//isEmpty</queryFormatString>
                                                                </item>
                                                                <item name="responseLine">
                                                                    <queryFormatString>.//responseLine</queryFormatString>
                                                                </item>
                                                            </aliases>
                                                            <duration>2.1</duration>
                                                        </behavior>
                                                    </emulation>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="5e5aec32-637c-42da-af60-9b238fdd78b9" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>os.path.exists(filePath):</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="f130a210-8223-4b10-a7a7-cfc3487b375b" action="readFile" skip="true">
                                                    <command>
                                                        <body>[filePath]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.ReadFilePropertyGroup"/>
                                                </item>
                                                <item guid="f516d31f-5450-47c9-aaef-f120ce9a801a" action="return">
                                                    <command>
                                                        <body>[filePath]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="85c18eaa-54b6-439d-8374-e8b5dfc74b5d" action="else" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="9168c247-b84d-4753-93fc-8ce4d202c26b" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>errorMsg = &quot;Cannot download configuration file: {0}&quot;.format(configURI)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="3227423c-4447-4d74-8058-a2f2aac4c1bf" action="message">
                                                    <command>
                                                        <body>Error:\\[errorMsg]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                        <severity inherit="false">Error</severity>
                                                        <message inherit="false">[errorMsg]</message>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="configAssetId">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="session_id">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="token">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="url">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="reservationId">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="configURI">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="downloadFromFileStore" isPublic="true">
            <steps>
                <item guid="7d4abb55-8bf1-4427-ace5-cc77f6d7f36d" action="open" session="downloadConfigurationFileSession" useFieldsInCommand="false">
                    <command>
                        <body>application:com.fnfr.svt.applications.bash</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                        <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        <sessionProperties type="com.fnfr.svt.applications.bash.BashSessionProperties">
                            <terminalProperties>
                                <prompts inherit="false">
                                    <item name="defaultBashPrompt" MatchMethod="REGULAR_EXPRESSION">
                                        <Content>.*[$]</Content>
                                    </item>
                                    <item name="defaultRootPrompt" MatchMethod="REGULAR_EXPRESSION">
                                        <Content>.*[#]</Content>
                                    </item>
                                    <item name="prompt" MatchMethod="REGULAR_EXPRESSION">
                                        <Content>.*&gt; </Content>
                                    </item>
                                    <item name="name" MatchMethod="REGULAR_EXPRESSION">
                                        <Content>Name.*:</Content>
                                    </item>
                                    <item name="password" TypeOfPrompt="PASSWORD">
                                        <Content>Password:</Content>
                                    </item>
                                    <item name="addKnownHostsPrompt">
                                        <Content>Are you sure you want to continue connecting (yes/no)?</Content>
                                    </item>
                                    <item name="passwordForHost" MatchMethod="REGULAR_EXPRESSION" TypeOfPrompt="PASSWORD">
                                        <Content>.*@.*&apos;s password:</Content>
                                    </item>
                                </prompts>
                            </terminalProperties>
                        </sessionProperties>
                        <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    </applicationProperties>
                    <emulation>
                        <behavior>
                            <response>
The default interactive shell is now zsh.
To update your account to use zsh, please run `chsh -s /bin/zsh`.
For more details, please visit https://support.apple.com/kb/HT208050.
</response>
                            <responseType>text</responseType>
                            <structuredData>
&lt;structure xmlns:map=&quot;http://www.fnfr.com/svt/mapping&quot;&gt;
    &lt;isEmpty&gt;false&lt;/isEmpty&gt;
    &lt;responseLine/&gt;
    &lt;connectStatus&gt;true&lt;/connectStatus&gt;
    &lt;promptName&gt;defaultBashPrompt&lt;/promptName&gt;
    &lt;prompt&gt;PLNC02CW0D5MD6V:~ cwhitty$ &lt;/prompt&gt;
&lt;/structure&gt;
</structuredData>
                            <aliases>
                                <item name="isEmpty">
                                    <queryFormatString>.//isEmpty</queryFormatString>
                                </item>
                                <item name="responseLine">
                                    <queryFormatString>.//responseLine</queryFormatString>
                                </item>
                                <item name="connectStatus">
                                    <queryFormatString>.//connectStatus</queryFormatString>
                                </item>
                                <item name="promptName">
                                    <queryFormatString>.//promptName</queryFormatString>
                                </item>
                                <item name="prompt">
                                    <queryFormatString>.//prompt</queryFormatString>
                                </item>
                            </aliases>
                            <duration>1.2</duration>
                        </behavior>
                    </emulation>
                </item>
                <item guid="22e20817-9e0a-4453-b267-526e0e9d0d55" action="call">
                    <command>
                        <body>correctUrl -url [fullURL]</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>url</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <emulation>
                        <behavior>
                            <response>https://httpbin.org/anything/s2</response>
                            <responseType>text</responseType>
                            <structuredData>
&lt;structure xmlns:map=&quot;http://www.fnfr.com/svt/mapping&quot;&gt;
    &lt;isEmpty&gt;false&lt;/isEmpty&gt;
    &lt;responseLine&gt;https://httpbin.org/anything/s2&lt;/responseLine&gt;
&lt;/structure&gt;
</structuredData>
                            <aliases>
                                <item name="isEmpty">
                                    <queryFormatString>.//isEmpty</queryFormatString>
                                </item>
                                <item name="responseLine">
                                    <queryFormatString>.//responseLine</queryFormatString>
                                </item>
                            </aliases>
                        </behavior>
                    </emulation>
                </item>
                <item guid="a020f376-bfa4-4191-9bf5-829f57d4887d" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>urlSplit = url.split(&apos;//&apos;, 1)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="a0ee9691-e04b-461d-8adc-27e6c606c27b" action="if" useFieldsInCommand="false">
                    <command>
                        <body>len(urlSplit) &lt; 2:</body>
                    </command>
                    <nestedSteps>
                        <item guid="f740ccac-1816-45eb-a862-2f776f2a0ad2" action="call" useFieldsInCommand="false">
                            <command>
                                <body>throwErrorMessage -message &quot;The file path is invalid.&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="fba05653-7fea-4423-9946-338fc1a9f2c7" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>get the protocol type removing character : at the end</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="249d0b99-3b52-4a58-86ac-a74bf7bdccde" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>protocol = urlSplit[0][:-1]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="4d2c6fbd-ab5a-4d01-b0d2-a69f5874210e" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>baseUrl = urlSplit[1].split(&quot;/&quot;, 1)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="ebad4399-1454-4774-8598-d2300e8854fd" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>hostName = baseUrl[0]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="f1f5ba72-0a6a-4f55-8226-36bc1936217b" action="if" useFieldsInCommand="false">
                    <command>
                        <body>len(baseUrl) != 2:</body>
                    </command>
                    <nestedSteps>
                        <item guid="7d2c316a-0c0f-4044-8ff4-0f4a410cd182" action="call" useFieldsInCommand="false">
                            <command>
                                <body>throwErrorMessage -message &quot;The file path is invalid.&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="c6aa09f5-fb12-4b21-9a98-1867dad25ba8" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>fileToDownload = baseUrl[1]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="c395cf39-ae1e-4601-a2f3-4be1750bd1a9" action="command" session="downloadConfigurationFileSession">
                    <command>
                        <body>mkdir [folderToSave]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <emulation>
                        <behavior>
                            <response>mkdir: /var/folders/w5/pz82m2s92jn3pfvkdp74j_fc0000gq/T/deployment_d34d5697-ad5d-4866-af11-41ed5c557ec5: File exists
</response>
                            <responseType>text</responseType>
                            <structuredData>
&lt;structure xmlns:map=&quot;http://www.fnfr.com/svt/mapping&quot;&gt;
    &lt;isEmpty&gt;false&lt;/isEmpty&gt;
    &lt;responseLine&gt;mkdir: /var/folders/w5/pz82m2s92jn3pfvkdp74j_fc0000gq/T/deployment_d34d5697-ad5d-4866-af11-41ed5c557ec5: File exists&lt;/responseLine&gt;
    &lt;promptName&gt;defaultBashPrompt&lt;/promptName&gt;
    &lt;echo&gt;mkdir /var/folders/w5/pz82m2s92jn3pfvkdp74j_fc0000gq/T/deployment_d34d5697-ad5d-4866-af11-41ed5c557ec5&lt;/echo&gt;
    &lt;prompt&gt;PLNC02CW0D5MD6V:~ cwhitty$ &lt;/prompt&gt;
&lt;/structure&gt;
</structuredData>
                            <aliases>
                                <item name="isEmpty">
                                    <queryFormatString>.//isEmpty</queryFormatString>
                                </item>
                                <item name="responseLine">
                                    <queryFormatString>.//responseLine</queryFormatString>
                                </item>
                                <item name="promptName">
                                    <queryFormatString>.//promptName</queryFormatString>
                                </item>
                                <item name="echo">
                                    <queryFormatString>.//echo</queryFormatString>
                                </item>
                                <item name="prompt">
                                    <queryFormatString>.//prompt</queryFormatString>
                                </item>
                            </aliases>
                            <duration>0.1</duration>
                        </behavior>
                    </emulation>
                </item>
                <item guid="8a8bc67f-b56e-4045-91f7-fd3d636e989f" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>rsplit = fileToDownload.rsplit(&quot;/&quot;, 1)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="5f95f5d2-475b-43da-a085-da4d0a6893d5" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>fileName = rsplit[0]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="0d73c384-d278-4087-8ee0-2036a5033c16" action="if" useFieldsInCommand="false">
                    <command>
                        <body>len(rsplit) == 2:</body>
                    </command>
                    <nestedSteps>
                        <item guid="b38bcfc1-0c94-45be-b86f-9cb6a10fab80" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>fileName = rsplit[1]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="cd8749ba-53f5-4d21-ba2f-cc2f7ed5d45a" action="if" useFieldsInCommand="false">
                    <command>
                        <body>protocol ==  &apos;tftp&apos;:</body>
                    </command>
                    <nestedSteps>
                        <item guid="c2610485-4cb1-487e-aa41-3d014ff75483" action="command" session="downloadConfigurationFileSession">
                            <command>
                                <body>cd [folderToSave]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="cd05c5e9-91c5-430a-85f2-d75ea8cca157" action="command" session="downloadConfigurationFileSession">
                            <command>
                                <body>tftp [hostName]</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>response</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="d7270b95-c303-42b2-947a-a4e3271ce548" action="if" useFieldsInCommand="false">
                            <command>
                                <body>&quot;Command &apos;tftp&apos; not found&quot; in response:</body>
                            </command>
                            <nestedSteps>
                                <item guid="99d13e15-98fe-4bc3-a905-331b3851153e" action="call" useFieldsInCommand="false">
                                    <command>
                                        <body>throwErrorMessage -message &quot;Command &apos;tftp&apos; not found, it can be installed with: sudo apt install tftp&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="6c842b87-c71b-442e-b933-870011540732" action="command" session="downloadConfigurationFileSession">
                            <command>
                                <body>get [fileToDownload]</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>response</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="37e08b4c-0ca8-41b6-ad23-68d60e29446d" action="if" useFieldsInCommand="false">
                            <command>
                                <body>&quot;Could not find file&quot; in response:</body>
                            </command>
                            <nestedSteps>
                                <item guid="0ef05f94-1fbe-4c11-b827-545f7a160e4b" action="call">
                                    <command>
                                        <body>throwErrorMessage -message &quot;File [fileName] not found.&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="ee7eb154-89e9-4d0d-b7e0-6fe03c4a8b03" action="elif" useFieldsInCommand="false">
                            <command>
                                <body>&quot;Received&quot; not in response:</body>
                            </command>
                            <nestedSteps>
                                <item guid="6daac14b-c8ae-425e-adca-59cbf98a6a13" action="call">
                                    <command>
                                        <body>throwErrorMessage -message &quot;[response]&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="09190688-eb65-4166-b5df-b52a6e72dc01" action="command" session="downloadConfigurationFileSession">
                            <command>
                                <body>quit</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="3fe33e58-0704-4c01-ad30-6632cf3b6749" action="elif" useFieldsInCommand="false">
                    <command>
                        <body>protocol == &apos;ftp&apos; or protocol == &apos;ftps&apos;:</body>
                    </command>
                    <nestedSteps>
                        <item guid="6d0a9c7c-934a-41bd-8e7a-9941fe824f95" action="command" session="downloadConfigurationFileSession" normalOffset="10.726" estimatedStepExecutionTime="0.754">
                            <command>
                                <body>ftp [hostName]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                <completionProperties expectedIdleTime="0.556" expectedIdleTime.inherit="false"/>
                            </applicationProperties>
                        </item>
                        <item guid="91c43bb8-22b2-448d-9b63-54c1d7e97393" action="command" session="downloadConfigurationFileSession" normalOffset="10.594" estimatedStepExecutionTime="0.185">
                            <command>
                                <body>[username]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                <completionProperties expectedIdleTime="0.509" expectedIdleTime.inherit="false"/>
                            </applicationProperties>
                        </item>
                        <item guid="e49b63d9-a858-490e-acad-151046bf8b8f" action="command" session="downloadConfigurationFileSession" normalOffset="2.009" estimatedStepExecutionTime="0.371">
                            <command>
                                <body>[password]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                <completionProperties expectedIdleTime="0.187" expectedIdleTime.inherit="false"/>
                            </applicationProperties>
                        </item>
                        <item guid="580ce8a6-6972-4ff8-a355-7992469970f6" action="command" session="downloadConfigurationFileSession" normalOffset="7.076" estimatedStepExecutionTime="9.936">
                            <command>
                                <body>get [fileToDownload] [folderToSave]/[fileName]</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>response</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                <completionProperties expectedIdleTime="9.185" expectedIdleTime.inherit="false"/>
                            </applicationProperties>
                        </item>
                        <item guid="73e6161c-a0b2-4288-932c-537fed84b6d9" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>successResponses = [&quot;File sent successful&quot;, &quot;Successfully transferred&quot;]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="6732be3d-1270-4c19-b021-99e306e59571" action="if" useFieldsInCommand="false">
                            <command>
                                <body>not any(successMsg in response for successMsg in successResponses):</body>
                            </command>
                            <nestedSteps>
                                <item guid="4e250a85-bda5-4454-bd87-843750cca051" action="call">
                                    <command>
                                        <body>throwErrorMessage -message [response]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="694c35c3-ef88-4295-8d4e-863f6776b8da" action="command" session="downloadConfigurationFileSession" normalOffset="4.264" estimatedStepExecutionTime="0.186">
                            <command>
                                <body>quit</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                <completionProperties expectedIdleTime="0.215" expectedIdleTime.inherit="false"/>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="f75605b6-f013-4571-b4f1-568b42a66c5b" action="elif" useFieldsInCommand="false">
                    <command>
                        <body>protocol == &apos;sftp&apos;:</body>
                    </command>
                    <nestedSteps>
                        <item guid="33fe5aac-dcb3-4a37-a400-f110ea037e1e" action="command" session="downloadConfigurationFileSession" normalOffset="9.735" estimatedStepExecutionTime="0.079">
                            <command>
                                <body>sftp [username]@[hostName]:[fileToDownload] [folderToSave]</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>response</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                <completionProperties expectedIdleTime="0.484" expectedIdleTime.inherit="false"/>
                            </applicationProperties>
                        </item>
                        <item guid="f9b5a64e-5dfb-4947-badd-232c9a3f3200" action="if" useFieldsInCommand="false">
                            <command>
                                <body>&quot;can&apos;t be established&quot; in response:</body>
                            </command>
                            <nestedSteps>
                                <item guid="b3bb718c-8906-4ce6-9ac9-d49e90ba59b0" action="call" normalOffset="3.569" estimatedStepExecutionTime="0.012" useFieldsInCommand="false">
                                    <command>
                                        <body>throwErrorMessage -message &quot;Downloading file failed. Error: [response]&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="6522312f-3f35-4e93-96e2-3350ef272c58" action="command" session="downloadConfigurationFileSession" normalOffset="20.737" estimatedStepExecutionTime="0.047">
                            <command isSecret="true">
                                <body>[password]</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>response</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        </item>
                        <item guid="03e0e421-cb16-41d4-9890-375bbd3e9fea" action="if" useFieldsInCommand="false">
                            <command>
                                <body>&quot;Permission denied&quot; in response:</body>
                            </command>
                            <nestedSteps>
                                <item guid="fc1b6f02-cdbc-4034-b0e4-ee1af39d9d10" action="call" useFieldsInCommand="false">
                                    <command>
                                        <body>throwErrorMessage -message &quot;Cannot download the file. Credential is invalid.&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="b33b69c7-424f-4190-a9e7-194b31b60a2f" action="elif" useFieldsInCommand="false">
                            <command>
                                <body>&quot;not found&quot; in response:</body>
                            </command>
                            <nestedSteps>
                                <item guid="267f3fe3-6f4f-4ad9-b882-8d9ef1344879" action="call">
                                    <command>
                                        <body>throwErrorMessage -message &quot;File [fileName] not found.&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="223f5adf-a398-4ca0-8deb-54b76eb05fc9" action="elif" useFieldsInCommand="false">
                    <command>
                        <body>protocol == &apos;file&apos;:</body>
                    </command>
                    <nestedSteps>
                        <item guid="955130d8-09f8-474b-a4be-3ea5f2bb4a04" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>src = &quot;/&quot; + fileToDownload</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="866c98a3-b20f-4b9a-9cf4-15608da1a494" action="if" useFieldsInCommand="false">
                            <command>
                                <body>os.path.exists(src):</body>
                            </command>
                            <nestedSteps>
                                <item guid="c68fb6bf-b5c4-4ab0-9a2d-42778a0eff7b" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>dest = folderToSave + &quot;/&quot; + fileName</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="4ec5291a-8bad-4b19-8bb8-095c411684fc" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>shutil.copyfile(src, dest)</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>response</storeResponseAt>
                                        <storeResponseText>true</storeResponseText>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="0d600d06-6904-4b96-b53a-e6817f4e62ad" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>response:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="6d8fcde4-c00f-4c90-810d-439370db295f" action="call">
                                            <command>
                                                <body>throwErrorMessage -message [response]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="8ab7e96f-0d69-4a48-9d01-46836440c5d2" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="0edd3d3c-04c2-4897-aa15-96859227cd80" action="call">
                                    <command>
                                        <body>throwErrorMessage -message &quot;File [fileToDownload] not found.&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="442883d1-f8d8-4f81-a942-b0022c391b35" action="elif" useFieldsInCommand="false">
                    <command>
                        <body>protocol == &apos;http&apos; or protocol == &apos;https&apos;:</body>
                    </command>
                    <nestedSteps>
                        <item guid="f7115f4c-1c08-428a-ab36-b47f40bc5bc0" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>fileToWrite = folderToSave + &quot;/&quot; + fileName</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a06dc223-840a-4c1a-a924-924e278c84d5" action="command" session="downloadConfigurationFileSession">
                            <command>
                                <body>wget -O [fileToWrite] &quot;[url]&quot;</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>response</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <emulation>
                                <behavior>
                                    <response>--2021-03-28 16:57:23--  https://httpbin.org/anything/s2
Resolving httpbin.org (httpbin.org)... 34.231.30.52, 54.166.163.67, 34.199.75.4, ...
Connecting to httpbin.org (httpbin.org)|34.231.30.52|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 398 [application/json]
Saving to: ‘/var/folders/w5/pz82m2s92jn3pfvkdp74j_fc0000gq/T/deployment_d34d5697-ad5d-4866-af11-41ed5c557ec5/s2’

/var/folders/w5/pz82m2s92jn3pfvkdp74j_fc0000gq/T/ 100%[=============================================================================================================&gt;]     398  --.-KB/s    in 0s      

2021-03-28 16:57:24 (9.49 MB/s) - ‘/var/folders/w5/pz82m2s92jn3pfvkdp74j_fc0000gq/T/deployment_d34d5697-ad5d-4866-af11-41ed5c557ec5/s2’ saved [398/398]

</response>
                                    <responseType>text</responseType>
                                    <structuredData>
&lt;structure xmlns:map=&quot;http://www.fnfr.com/svt/mapping&quot;&gt;
    &lt;isEmpty&gt;false&lt;/isEmpty&gt;
    &lt;responseLine&gt;--2021-03-28 16:57:23--  https://httpbin.org/anything/s2&lt;/responseLine&gt;
    &lt;promptName&gt;defaultBashPrompt&lt;/promptName&gt;
    &lt;echo&gt;wget -O /var/folders/w5/pz82m2s92jn3pfvkdp74j_fc0000gq/T/deployment_d34d5697-ad5d-4866-af11-41ed5c557ec5/s2 &amp;quot;https://httpbin.org/anything/s2&amp;quot;&lt;/echo&gt;
    &lt;prompt&gt;PLNC02CW0D5MD6V:~ cwhitty$ &lt;/prompt&gt;
&lt;/structure&gt;
</structuredData>
                                    <aliases>
                                        <item name="isEmpty">
                                            <queryFormatString>.//isEmpty</queryFormatString>
                                        </item>
                                        <item name="responseLine">
                                            <queryFormatString>.//responseLine</queryFormatString>
                                        </item>
                                        <item name="promptName">
                                            <queryFormatString>.//promptName</queryFormatString>
                                        </item>
                                        <item name="echo">
                                            <queryFormatString>.//echo</queryFormatString>
                                        </item>
                                        <item name="prompt">
                                            <queryFormatString>.//prompt</queryFormatString>
                                        </item>
                                    </aliases>
                                    <duration>0.5</duration>
                                </behavior>
                            </emulation>
                        </item>
                        <item guid="6fe68662-b449-45dd-97dc-2d9425aafe43" action="if" useFieldsInCommand="false">
                            <command>
                                <body>&quot;saved&quot; not in response:</body>
                            </command>
                            <nestedSteps>
                                <item guid="140dbe87-3212-43f1-9867-65961ff5c8f4" action="call">
                                    <command>
                                        <body>throwErrorMessage -message &quot;Failed to download file [url].&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <emulation>
                                        <behavior>
                                            <responseType>text</responseType>
                                            <structuredData>
&lt;structure xmlns:map=&quot;http://www.fnfr.com/svt/mapping&quot;&gt;
    &lt;isEmpty&gt;true&lt;/isEmpty&gt;
    &lt;responseLine/&gt;
&lt;/structure&gt;
</structuredData>
                                            <aliases>
                                                <item name="isEmpty">
                                                    <queryFormatString>.//isEmpty</queryFormatString>
                                                </item>
                                                <item name="responseLine">
                                                    <queryFormatString>.//responseLine</queryFormatString>
                                                </item>
                                            </aliases>
                                        </behavior>
                                    </emulation>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="39767ea3-42a4-4152-bd3d-2dc0c5d8c289" action="else" useFieldsInCommand="false">
                    <nestedSteps>
                        <item guid="8ec8ef1f-4c24-4e8f-92bf-9ad43891fb98" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>protocol = protocol[:-1]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="1396d1aa-1e70-422a-bc23-e1fd332e688e" action="call" useFieldsInCommand="false">
                            <command>
                                <body>throwErrorMessage -message &quot;The [protocol] protocol is currently not supported. Please use one of the followings: ftp, tftp, sftp, scp, http, https.&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="c007c8dc-ed64-41b1-9e30-081c0779022d" action="close" session="downloadConfigurationFileSession">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <emulation>
                        <behavior>
                            <responseType>text</responseType>
                            <structuredData>
&lt;structure xmlns:map=&quot;http://www.fnfr.com/svt/mapping&quot;&gt;
    &lt;isEmpty&gt;true&lt;/isEmpty&gt;
    &lt;responseLine/&gt;
&lt;/structure&gt;
</structuredData>
                            <aliases>
                                <item name="isEmpty">
                                    <queryFormatString>.//isEmpty</queryFormatString>
                                </item>
                                <item name="responseLine">
                                    <queryFormatString>.//responseLine</queryFormatString>
                                </item>
                            </aliases>
                            <duration>0.1</duration>
                        </behavior>
                    </emulation>
                </item>
                <item guid="aae58f53-c501-44e4-a41e-882856223e18" action="return">
                    <command>
                        <body>[folderToSave]/[fileName]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="fullURL">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="username">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="password">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="folderToSave"/>
            </arguments>
            <response>{}</response>
        </item>
        <item name="correctUrl" isPublic="true">
            <steps>
                <item guid="3e148462-94fb-41f4-8c01-06d185b29979" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Clean up and format the URI properly</body>
                    </command>
                    <nestedSteps>
                        <item guid="9cf69dae-7cd0-4048-aa4d-334536288f2f" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>urlSplit = url.split(&quot;//&quot;, 1)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="2fb8a3be-3272-4d03-9404-c7e0c3a9562b" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>protocol = urlSplit[0]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="21e0f650-2e50-4423-bd3c-b31dcb22707f" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>path = urlSplit[1]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="34deaba5-cdfc-4bb5-a4da-85f8e20ad580" action="if" useFieldsInCommand="false">
                            <command>
                                <body>&quot;///&quot; in path:</body>
                            </command>
                            <nestedSteps>
                                <item guid="dad8d75f-7841-4553-8dba-688b13527bac" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>path = path.replace(&quot;///&quot;, &quot;/&quot;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="317eaab0-589c-449d-a359-80be43202cb9" action="if" useFieldsInCommand="false">
                            <command>
                                <body>&quot;//&quot; in path:</body>
                            </command>
                            <nestedSteps>
                                <item guid="d6febbb3-dd98-424d-b663-0e0bf1ef7c02" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>path = path.replace(&quot;//&quot;, &quot;/&quot;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="81987ef8-b6a6-4904-b95c-c8922db0352d" action="return">
                    <command>
                        <body>[protocol]//[path]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="url">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="throwErrorMessage" isPublic="true">
            <steps>
                <item guid="1f8376d1-1ac8-42fd-8bca-21e5ca4d90a3" action="message" useFieldsInCommand="false">
                    <command>
                        <body>Error:[message]</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="AbortExecution">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                        <severity inherit="false">Error</severity>
                        <message inherit="false">[message]</message>
                    </applicationProperties>
                </item>
            </steps>
            <arguments>
                <item name="message"/>
            </arguments>
            <response>{}</response>
        </item>
    </procedures>
</testCase>
