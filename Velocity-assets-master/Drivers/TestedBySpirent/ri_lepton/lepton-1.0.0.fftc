<?xml version="1.0"?>
<testCase version="7.3.0.qualifier">
    <general>
        <documentation>Lepton Systems (ColdFusion) L1 Switch Driver</documentation>
        <notes>Model a device called using the &quot;Lepton ColdFusion Switch&quot; template, associate it with this driver, and assign all required properties.
Click “Discover” for the driver to auto-populate the port groups and ports
Connect at least two inventory devices to this switch.
Create a topology connecting these two devices together with an Ethernet connection.
Reserve the topology, and the connection light should go green.</notes>
        <owner>thnguyen</owner>
    </general>
    <execution defaultStepTimeout="15">
        <parameters version="7.3.0.qualifier">
            <parameters escape="true">
                <parameters xmlns:pt="http://www.fnfr.com/schemas/parameterTree">
                    <session>s1</session>
                </parameters>
            </parameters>
        </parameters>
    </execution>
    <procedures>
        <item name="main" isPublic="true" defaultSessionProfile="application:com.fnfr.itest.applications.webservices.restful">
            <steps>
                <item guid="f7e236c0-7980-4d08-a339-1a8b2c6aa244" action="call" useFieldsInCommand="false">
                    <command>
                        <body>getHostParameter</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>deviceHost</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="bcb2bfab-6095-43c7-afbc-1c82dd196f1e" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>set ret &quot;&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="d9022d39-15f9-4d60-8246-626a01f858b4" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>set portDefault_HTTP &quot;:8081&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="3bcf3733-b913-45c7-95a0-c930440a3f63" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>set portDefault_HTTPS &quot;:8443&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="2b09f1d4-b747-4976-836a-0bb22d8367c1" action="if" useFieldsInCommand="false">
                    <command>
                        <body>[param property_Protocol] == &quot;HTTP&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="508161e1-22eb-4fa5-be75-79cb83c8a0ce" action="then" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="46369704-6dc8-4fe8-ab58-afe58ea6d34f" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Open REST session with HTTP protocol</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="bff5a4db-ce61-42ee-83db-35867e57d1b1" action="open" session="[param session]">
                                            <command>
                                                <body>application:com.fnfr.itest.applications.webservices.restful</body>
                                            </command>
                                            <eventHandlers>
                                                <item name="OnStepTimeout">
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>Step has timed out.</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="AbortExecution">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </item>
                                                <item name="OnToolError">
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>{error}</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="AbortExecution">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </item>
                                            </eventHandlers>
                                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulSessionProperties" url="http://[get deviceHost][get portDefault_HTTP]" url.inherit="false">
                                                    <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" authenticationType="Basic" authenticationType.inherit="false" user="[param property_username]" user.inherit="false" password.masked="true" password="Hu62+w4ez8VRjpeoxPozxOrYANzZETwjSBzQGhgYreQ=" password.inherit="false"/>
                                                </sessionProperties>
                                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="24ab77aa-a5cb-43ad-b50f-4907e9f07395" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="94d5f1f0-0006-4632-a946-0ca9644fd48e" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Open REST session with HTTPS protocol and trust all SSL</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="aa05aca8-a71c-4853-91cf-b2728822a0a0" action="open" session="[param session]">
                                            <command>
                                                <body>application:com.fnfr.itest.applications.webservices.restful</body>
                                            </command>
                                            <eventHandlers>
                                                <item name="OnStepTimeout">
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>Step has timed out.</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="AbortExecution">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </item>
                                                <item name="OnToolError">
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>{error}</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="AbortExecution">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </item>
                                            </eventHandlers>
                                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulSessionProperties" url="https://[get deviceHost][get portDefault_HTTPS]" url.inherit="false">
                                                    <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" authenticationType="Basic" authenticationType.inherit="false" user="[param property_username]" user.inherit="false" password.masked="true" password="Hu62+w4ez8VRjpeoxPozxOrYANzZETwjSBzQGhgYreQ=" password.inherit="false" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                </sessionProperties>
                                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="d13b48e6-0bd5-4780-9fa1-e48e98eab708" action="for" useFieldsInCommand="false">
                    <command>
                        <body>{set i 0} {$i &lt; [param call_count]} {incr i}</body>
                    </command>
                    <nestedSteps>
                        <item guid="92257dda-f53d-416c-bed6-cb93d534ae20" action="message" useFieldsInCommand="false">
                            <command>
                                <body>Information:Calling [param call_$i]</body>
                            </command>
                            <nestedSteps>
                                <item guid="657d4160-aa3f-4292-acbf-124471215f5d" action="call">
                                    <command>
                                        <body>[param call_$i]</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>ret</storeResponseAt>
                                        <storeResponseText>true</storeResponseText>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <message inherit="false">Calling [param call_$i]</message>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="095f57d4-71ef-4031-97d2-072bc5c1cea1" action="return">
                    <command>
                        <body>$ret</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <response>{}</response>
        </item>
        <item name="getProperties" isPublic="true" defaultSessionProfile="application:com.fnfr.itest.applications.webservices.restful">
            <steps>
                <item guid="ad804a6b-8d59-4b95-857e-2ac4ab5da2ab" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Create sample JSON Properties</body>
                    </command>
                    <nestedSteps>
                        <item guid="80cf39bb-2d54-429a-9207-49a9818519cf" action="json" useFieldsInCommand="false">
                            <command>
                                <body>-action createJson -documentName jsonDoc -fromFile false -jsonString {&quot;properties&quot;:{&quot;Software Version&quot;:&quot;value&quot;,&quot;Model&quot;:&quot;value&quot;,&quot;Make&quot;:&quot;Lepton Systems&quot;}}</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">createJson</action>
                                <jsonString inherit="false">{&quot;properties&quot;:{&quot;Software Version&quot;:&quot;value&quot;,&quot;Model&quot;:&quot;value&quot;,&quot;Make&quot;:&quot;Lepton Systems&quot;}}</jsonString>
                                <documentName inherit="false">jsonDoc</documentName>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="17b9c2b2-faf4-4a8e-9966-976a586ccb84" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Validate chassis &quot;Ready&quot; status and Retrieves the &quot;Model&quot; and &quot;Software Version&quot; properties</body>
                    </command>
                    <nestedSteps>
                        <item guid="8baf6ba6-d301-438f-9eef-ca91e964dfc1" action="GET" session="[param session]">
                            <command>
                                <body>/chassis</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>chassisResponse</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <eventHandlers>
                                <item name="OnToolError">
                                    <item actionId="DeclareExecutionIssue">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                            <message> This resource is unreachable.</message>
                                        </actionProperties>
                                    </item>
                                    <item actionId="FailTest">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                    <item actionId="AbortExecution">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                </item>
                                <item name="OnStepTimeout">
                                    <item actionId="DeclareExecutionIssue">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                            <message>Step has timed out. Chassis is not available.</message>
                                        </actionProperties>
                                    </item>
                                    <item actionId="FailTest">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                    <item actionId="AbortExecution">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                </item>
                            </eventHandlers>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/chassis" action.inherit="false"/>
                        </item>
                        <item guid="a4a28a40-51f5-4161-b70c-007bba6705aa" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Validate chassis &quot;Ready&quot; status. Abort execution and declare issue if not &quot;Ready&quot;</body>
                            </command>
                            <nestedSteps>
                                <item guid="9216859e-d8e8-4ebe-bf46-6ac4db00df0a" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>-action getJsonNode -editResponseStructure false -documentName chassisResponse -pathValue {&quot;Status&quot;}</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>Status()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value eq &quot;Ready&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                    <message>Chassis is ready.</message>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                    <message>The chassis is not ready</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="AbortExecution">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <eventHandlers>
                                        <item name="onExecJsonGetError">
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message> Cannot query the chassis status.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="AbortExecution">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </item>
                                    </eventHandlers>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false">{&quot;Status&quot;}</pathValue>
                                        <documentName inherit="false">chassisResponse</documentName>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="4db58d6a-a9b1-4318-ac61-d2dac9ca45b0" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Query &quot;Model&quot; information</body>
                            </command>
                            <nestedSteps>
                                <item guid="7cce36c4-dc56-4203-8a6d-148590a5ae66" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>-action getJsonNode -editResponseStructure false -documentName chassisResponse -pathValue {&quot;Model&quot;}</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>Model()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>model</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false">{&quot;Model&quot;}</pathValue>
                                        <documentName inherit="false">chassisResponse</documentName>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="e2fc98dd-22d0-43b6-bda3-319f397e3888" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Value of &quot;Version&quot; returned from the /system/do/version REST endpoint</body>
                    </command>
                    <nestedSteps>
                        <item guid="ca6c852a-d0cb-4e72-b365-987e2059aee5" action="GET" session="[param session]">
                            <command>
                                <body>/system/do/version</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>&quot;Error&quot;</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set error 1</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set error 0</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>versionResponse</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/system/do/version" action.inherit="false"/>
                        </item>
                        <item guid="a53b6ca1-af4d-4cd6-ad29-68c5bf28df68" action="if" useFieldsInCommand="false">
                            <command>
                                <body>$error == 1</body>
                            </command>
                            <nestedSteps>
                                <item guid="8aea5c4f-cc9e-4654-b777-a7ae025e24b5" action="then" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="deb4c4bf-5fd3-4559-bbcf-045a2b63d83d" action="close" session="[param session]">
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="none">
                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>true</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                            <message>$versionResponse</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="FailTest">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                    <item actionId="AbortExecution">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="59e56779-a07a-4419-8ae9-338d7ad5634f" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="1295fe0b-e9ba-447d-a46c-905a40a068fd" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>-action getJsonNode -editResponseStructure false -documentName versionResponse -pathValue {&quot;Version&quot;}</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>Version()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>version</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">getJsonNode</action>
                                                <pathValue inherit="false">{&quot;Version&quot;}</pathValue>
                                                <documentName inherit="false">versionResponse</documentName>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="39ec850a-d7fa-4840-9b87-96c4cfb5045f" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Update sample JSON with &quot;Model&quot; value</body>
                    </command>
                    <nestedSteps>
                        <item guid="e9092b5c-36f4-4ff7-b0aa-8113cb789ba2" action="json" useFieldsInCommand="false">
                            <command>
                                <body>-action setJsonValue -editResponseStructure false -documentName jsonDoc -pathValue {&quot;properties/Model&quot;:&quot;$model&quot;}</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">setJsonValue</action>
                                <pathValue inherit="false" sub="true">{&quot;properties/Model&quot;:&quot;$model&quot;}</pathValue>
                                <documentName inherit="false">jsonDoc</documentName>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="bfed77ed-75eb-4321-951b-073467519d58" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Update sample JSON with &quot;Software Version&quot; value</body>
                    </command>
                    <nestedSteps>
                        <item guid="87d09e48-7b8f-4a36-bc03-06d9c4d19d8f" action="json" useFieldsInCommand="false">
                            <command>
                                <body>-action setJsonValue -editResponseStructure false -documentName jsonDoc -pathValue {&quot;properties/Software Version&quot;:&quot;$version&quot;}</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">setJsonValue</action>
                                <pathValue inherit="false" sub="true">{&quot;properties/Software Version&quot;:&quot;$version&quot;}</pathValue>
                                <documentName inherit="false">jsonDoc</documentName>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="678b9de2-6d09-41d6-91a8-ed024dbc49a6" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Retrieves list ports if the includePorts argument is true</body>
                    </command>
                    <nestedSteps>
                        <item guid="1bd3dda4-5f37-40b6-a403-0dfd2c1fa1f4" action="if" useFieldsInCommand="false">
                            <command>
                                <body>$includePorts</body>
                            </command>
                            <nestedSteps>
                                <item guid="17746e34-3e94-449d-bfd9-884ee6b4e1a3" action="then" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="5b590b74-6c19-4bb9-bb13-f45c195a3daa" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Add default ports[] array to JSON document</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="a4e20d4e-5fc7-499a-9836-d89873d26ae5" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>-action addJsonNode -editResponseStructure false -documentName jsonDoc -pathValue {&quot;/&quot;:{&quot;ports&quot;:[]}}</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">addJsonNode</action>
                                                        <pathValue inherit="false">{&quot;/&quot;:{&quot;ports&quot;:[]}}</pathValue>
                                                        <documentName inherit="false">jsonDoc</documentName>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="8e0b2afe-b405-4445-8e91-8ad42613ee2b" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Discover port list based on &quot;Port Modeling&quot; value</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="4cc23991-3df9-4a4e-a210-cd691e438b04" action="for" useFieldsInCommand="false">
                                                    <command>
                                                        <body>{set cardId 0} {$cardId &lt; 8} {incr cardId}</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="1d5b423a-54b7-4ba5-b480-306618cc6ad4" action="comment" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Retrieve card information. Ignore if this cardId is not available.</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="5d515e94-b2ab-496f-b950-0f72be349e01" action="GET" session="[param session]">
                                                                    <command>
                                                                        <body>/chassis/linecards/$cardId</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <analysisRules>
                                                                            <item>
                                                                                <extractorInfo extractorType="contains">
                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                                                        <searchString>&quot;Error&quot;</searchString>
                                                                                    </extractorProperties>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="assert">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                        <expression>$value == 1</expression>
                                                                                        <actionsWhenTrue>
                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                                                    <message>The cardId $cardId is NOT available.</message>
                                                                                                </actionProperties>
                                                                                            </item>
                                                                                            <item actionId="Continue">
                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            </item>
                                                                                        </actionsWhenTrue>
                                                                                        <actionsWhenFalse>
                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                                                    <message>The cardId $cardId is available.</message>
                                                                                                </actionProperties>
                                                                                            </item>
                                                                                        </actionsWhenFalse>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                        </analysisRules>
                                                                        <storeResponseAt>cardResponse</storeResponseAt>
                                                                        <storeResponseText>true</storeResponseText>
                                                                    </postProcessing>
                                                                    <eventHandlers>
                                                                        <item name="OnStepTimeout">
                                                                            <item actionId="DeclareExecutionIssue">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                    <message>Step has timed out. Cannot get card&apos;s status.</message>
                                                                                </actionProperties>
                                                                            </item>
                                                                            <item actionId="FailTest">
                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            </item>
                                                                            <item actionId="AbortExecution">
                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            </item>
                                                                        </item>
                                                                    </eventHandlers>
                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="POST" httpMethod.inherit="false" action="/chassis/linecards/$cardId" action.inherit="false"/>
                                                                </item>
                                                                <item guid="d8939f39-1051-4ae3-837d-f4e4db64bc52" action="comment" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>Validate card status. Ignore if not &quot;Ready&quot;</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="f5e43cd0-3674-4fe0-a0c8-64387c5fc0c3" action="json" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>-action getJsonNode -editResponseStructure false -documentName cardResponse -pathValue {&quot;Status&quot;}</body>
                                                                            </command>
                                                                            <postProcessing>
                                                                                <analysisRules>
                                                                                    <item>
                                                                                        <extractorInfo extractorType="query">
                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                <query>Status()</query>
                                                                                            </extractorProperties>
                                                                                        </extractorInfo>
                                                                                        <processorInfo ruleType="assert">
                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                <expression>$value eq &quot;Ready&quot;</expression>
                                                                                                <actionsWhenTrue>
                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                            <message>CardId $cardId is ready. Query all ports of this card....</message>
                                                                                                        </actionProperties>
                                                                                                    </item>
                                                                                                </actionsWhenTrue>
                                                                                                <actionsWhenFalse>
                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                                                            <message>CardId $cardId is not ready. Ignore it.</message>
                                                                                                        </actionProperties>
                                                                                                    </item>
                                                                                                    <item actionId="Continue">
                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    </item>
                                                                                                </actionsWhenFalse>
                                                                                            </ruleProperties>
                                                                                        </processorInfo>
                                                                                    </item>
                                                                                </analysisRules>
                                                                            </postProcessing>
                                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                <action inherit="false">getJsonNode</action>
                                                                                <pathValue inherit="false">{&quot;Status&quot;}</pathValue>
                                                                                <documentName inherit="false">cardResponse</documentName>
                                                                            </applicationProperties>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="cb452367-a78b-4c4e-8ad6-813141fc3ba2" action="comment" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>Get port name. It will be &quot;Group Container&quot;.</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="a9894d72-37cf-477c-94cc-e1875fc0b4ae" action="json" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>-action getJsonNode -editResponseStructure false -documentName cardResponse -pathValue {&quot;Name&quot;}</body>
                                                                            </command>
                                                                            <postProcessing>
                                                                                <analysisRules>
                                                                                    <item>
                                                                                        <extractorInfo extractorType="query">
                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                <query>Name()</query>
                                                                                            </extractorProperties>
                                                                                        </extractorInfo>
                                                                                        <processorInfo ruleType="store">
                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                <storageLocation>portContainer</storageLocation>
                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                            </ruleProperties>
                                                                                        </processorInfo>
                                                                                    </item>
                                                                                </analysisRules>
                                                                            </postProcessing>
                                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                <action inherit="false">getJsonNode</action>
                                                                                <pathValue inherit="false">{&quot;Name&quot;}</pathValue>
                                                                                <documentName inherit="false">cardResponse</documentName>
                                                                            </applicationProperties>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="e7bcaceb-a571-4cc2-8c99-d85b4ce3ba4b" action="for" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>{set portId 0} {$portId &lt; 32} {incr portId}</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="fce1509f-89d6-4803-8570-a286bfd909f5" action="comment" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>Retrieve list 32 ports for each card. Ignore if a port is not available.</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="f5476828-91e7-4a2c-b82c-535d68ca20dc" action="GET" session="[param session]">
                                                                            <command>
                                                                                <body>/chassis/linecards/$cardId/ports/$portId</body>
                                                                            </command>
                                                                            <postProcessing>
                                                                                <analysisRules>
                                                                                    <item>
                                                                                        <extractorInfo extractorType="contains">
                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                                                                <searchString>&quot;Error&quot;</searchString>
                                                                                            </extractorProperties>
                                                                                        </extractorInfo>
                                                                                        <processorInfo ruleType="assert">
                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                <expression>$value == 1</expression>
                                                                                                <actionsWhenTrue>
                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                                                            <message>The portId $cardId.$portId is NOT available.</message>
                                                                                                        </actionProperties>
                                                                                                    </item>
                                                                                                    <item actionId="Continue">
                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    </item>
                                                                                                </actionsWhenTrue>
                                                                                                <actionsWhenFalse>
                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                                                            <message>The portId $cardId.$portId is available. Get port status...</message>
                                                                                                        </actionProperties>
                                                                                                    </item>
                                                                                                </actionsWhenFalse>
                                                                                            </ruleProperties>
                                                                                        </processorInfo>
                                                                                    </item>
                                                                                    <item>
                                                                                        <extractorInfo extractorType="query">
                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                <query>Slot()</query>
                                                                                            </extractorProperties>
                                                                                        </extractorInfo>
                                                                                        <processorInfo ruleType="store">
                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                <storageLocation>slot</storageLocation>
                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                            </ruleProperties>
                                                                                        </processorInfo>
                                                                                    </item>
                                                                                    <item>
                                                                                        <extractorInfo extractorType="query">
                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                <query>Id()</query>
                                                                                            </extractorProperties>
                                                                                        </extractorInfo>
                                                                                        <processorInfo ruleType="store">
                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                <storageLocation>id</storageLocation>
                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                            </ruleProperties>
                                                                                        </processorInfo>
                                                                                    </item>
                                                                                    <item>
                                                                                        <extractorInfo extractorType="query">
                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                <query>PhyLink()</query>
                                                                                            </extractorProperties>
                                                                                        </extractorInfo>
                                                                                        <processorInfo ruleType="store">
                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                <storageLocation>phyLink</storageLocation>
                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                            </ruleProperties>
                                                                                        </processorInfo>
                                                                                    </item>
                                                                                </analysisRules>
                                                                            </postProcessing>
                                                                            <nestedSteps>
                                                                                <item guid="6e2cb3e2-22cb-47f0-89d2-3bdfec641540" action="call" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>getPortModelingId</body>
                                                                                    </command>
                                                                                    <postProcessing>
                                                                                        <storeResponseAt>portModelingId</storeResponseAt>
                                                                                        <storeResponseText>true</storeResponseText>
                                                                                    </postProcessing>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="da64096d-f486-4d13-8826-3db5cb326f15" action="json" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>-action createJson -documentName phyLinkObject -fromFile false -jsonString {&quot;PhyLink&quot;:$phyLink}</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                        <action inherit="false">createJson</action>
                                                                                        <jsonString inherit="false" sub="true">{&quot;PhyLink&quot;:$phyLink}</jsonString>
                                                                                        <documentName inherit="false">phyLinkObject</documentName>
                                                                                    </applicationProperties>
                                                                                </item>
                                                                                <item guid="0294efda-4a00-4519-ae9d-329d33f226f1" action="call" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>getPortLaneStatus -laneId $portModelingId -phyLinkStatus $phyLinkObject</body>
                                                                                    </command>
                                                                                    <postProcessing>
                                                                                        <storeResponseAt>status</storeResponseAt>
                                                                                        <storeResponseText>true</storeResponseText>
                                                                                    </postProcessing>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <eventHandlers>
                                                                                <item name="OnStepTimeout">
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                            <message>Step has timed out.</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="FailTest">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                    <item actionId="AbortExecution">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                </item>
                                                                            </eventHandlers>
                                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/chassis/linecards/$cardId/ports/$portId" action.inherit="false"/>
                                                                        </item>
                                                                        <item guid="6c8cf536-f938-4dc4-8d27-e892813a6e6d" action="if" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>$id &lt; 10</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="28be0218-d325-4a79-8bfc-8436da4239df" action="then" useFieldsInCommand="false">
                                                                                    <nestedSteps>
                                                                                        <item guid="8191ec89-9c56-4e48-852f-fcce7cfc2395" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>Port name should follow syntax 0X if X &lt; 10</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="d97f3674-6b5f-41e3-ab10-46fa8eb36130" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>set portName $slot.0$id</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="b2cedd39-265f-428f-a61f-49322bf80d16" action="else" useFieldsInCommand="false">
                                                                                    <nestedSteps>
                                                                                        <item guid="e45e0ca2-142f-4467-b715-c52c57d1a8e2" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>set portName $slot.$id</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="ea2b4b68-5eab-4ce0-92b8-f797f8223487" action="if" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>$portModelingId != 0</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="86d2359d-0165-47b9-a333-97ad7a0df811" action="then" useFieldsInCommand="false">
                                                                                    <nestedSteps>
                                                                                        <item guid="492a943e-3176-4609-9cdd-d699e1961f2e" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>set portName $portName:$portModelingId</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="9b16eb42-8183-410d-ba67-0f646912cac0" action="json" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>-action addJsonNode -editResponseStructure false -documentName jsonDoc -pathValue {&quot;ports/\\[0\\]&quot;:\\[{&quot;container&quot;:&quot;$portContainer&quot;,&quot;name&quot;:&quot;$portName&quot;,&quot;status&quot;:&quot;$status&quot;}\\]}</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                <action inherit="false">addJsonNode</action>
                                                                                <pathValue inherit="false" sub="true">{&quot;ports/\\[0\\]&quot;:\\[{&quot;container&quot;:&quot;$portContainer&quot;,&quot;name&quot;:&quot;$portName&quot;,&quot;status&quot;:&quot;$status&quot;}\\]}</pathValue>
                                                                                <documentName inherit="false">jsonDoc</documentName>
                                                                            </applicationProperties>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="9c90c688-039b-4e68-bb8d-21900b7d2737" action="return">
                    <command>
                        <body>$jsonDoc</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="includePorts">
                    <defaultValue>false</defaultValue>
                </item>
            </arguments>
            <response>{&quot;properties&quot;:{&quot;Make&quot;:&quot;Lepton Systems&quot;,&quot;Model&quot;:&quot;value&quot;,&quot;Software_Version&quot;:&quot;value&quot;},&quot;ports&quot;:[]}</response>
        </item>
        <item name="getPorts" isPublic="true" defaultSessionProfile="application:com.fnfr.itest.applications.webservices.restful" isVBlock="true">
            <steps>
                <item guid="3bf1731c-e710-4b1e-b436-f4e85fab0756" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Validate chassis is reachable</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="e8449a1e-3bf9-4842-83ed-6f3e194c7a4f" action="GET" session="[param session]">
                    <command>
                        <body>/chassis</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>chassisResponse</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <eventHandlers>
                        <item name="OnToolError">
                            <item actionId="DeclareExecutionIssue">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                    <message> This resource is unreachable.</message>
                                </actionProperties>
                            </item>
                            <item actionId="FailTest">
                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </item>
                            <item actionId="AbortExecution">
                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </item>
                        </item>
                        <item name="OnStepTimeout">
                            <item actionId="DeclareExecutionIssue">
                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                    <message>Step has timed out. Chassis is not available.</message>
                                </actionProperties>
                            </item>
                            <item actionId="FailTest">
                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </item>
                            <item actionId="AbortExecution">
                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/chassis" action.inherit="false"/>
                </item>
                <item guid="92d8b381-4039-4a80-95ea-3dc351fa98ca" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Validate chassis &quot;Ready&quot; status. Abort execution and declare issue if not &quot;Ready&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="7a170083-4cee-4ab1-8061-aa86f7eebf64" action="json" useFieldsInCommand="false">
                            <command>
                                <body>-action getJsonNode -editResponseStructure false -documentName chassisResponse -pathValue {&quot;Status&quot;}</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>Status()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value eq &quot;Ready&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                            <message>Chassis is ready.</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>The chassis is not ready</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="AbortExecution">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <eventHandlers>
                                <item name="onExecJsonGetError">
                                    <item actionId="DeclareExecutionIssue">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                            <message> Cannot query the chassis status.</message>
                                        </actionProperties>
                                    </item>
                                    <item actionId="FailTest">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                    <item actionId="AbortExecution">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                </item>
                            </eventHandlers>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                <action inherit="false">getJsonNode</action>
                                <pathValue inherit="false">{&quot;Status&quot;}</pathValue>
                                <documentName inherit="false">chassisResponse</documentName>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="fa6ade51-dbba-4146-a9d3-bb783af8f346" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Retrieves list ports if the includePorts argument is true</body>
                    </command>
                    <nestedSteps>
                        <item guid="8b5ca0de-056b-48c7-9299-12edeca93e2d" action="for" useFieldsInCommand="false">
                            <command>
                                <body>{set cardId 0} {$cardId &lt; 8} {incr cardId}</body>
                            </command>
                            <nestedSteps>
                                <item guid="955985e9-2311-417f-a556-94cc8357079a" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Retrieve card information. Ignore if this cardId is not available.</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="017dba6e-aed8-4f8a-982d-4feeb22f7cad" action="GET" session="[param session]">
                                            <command>
                                                <body>/chassis/linecards/$cardId</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="contains">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                                <searchString>&quot;Error&quot;</searchString>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>$value == 1</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                            <message>The cardId $cardId is NOT available.</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="Continue">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                                <actionsWhenFalse>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                            <message>The cardId $cardId is available. Query all ports of this card....</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                </actionsWhenFalse>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <eventHandlers>
                                                <item name="OnStepTimeout">
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>Step has timed out.</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="AbortExecution">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </item>
                                            </eventHandlers>
                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/chassis/linecards/$cardId" action.inherit="false"/>
                                        </item>
                                        <item guid="adc6894d-3fda-49cc-87c0-7ddbd9c5937a" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>{set portId 0} {$portId &lt; 32} {incr portId}</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="267a4d21-57a0-4107-a005-f6f18e8739ee" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Retrieve list 32 ports for each card</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="b6bee2c0-8f81-4ccf-9deb-177cde55b2e6" action="GET" session="[param session]">
                                                    <command>
                                                        <body>/chassis/linecards/$cardId/ports/$portId</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="contains">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                                        <searchString>&quot;Error&quot;</searchString>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="assert">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                        <expression>$value == 1</expression>
                                                                        <actionsWhenTrue>
                                                                            <item actionId="DeclareExecutionIssue">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                                    <message>The portId $cardId.$portId is NOT available.</message>
                                                                                </actionProperties>
                                                                            </item>
                                                                            <item actionId="Continue">
                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            </item>
                                                                        </actionsWhenTrue>
                                                                        <actionsWhenFalse>
                                                                            <item actionId="DeclareExecutionIssue">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                                    <message>The portId $cardId.$portId is available. Get port status...</message>
                                                                                </actionProperties>
                                                                            </item>
                                                                        </actionsWhenFalse>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>Slot()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>slot</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>Id()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>id</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>PhyLink()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>phyLink</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <eventHandlers>
                                                        <item name="OnStepTimeout">
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                    <message>Step has timed out.</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="AbortExecution">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </item>
                                                    </eventHandlers>
                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/chassis/linecards/$cardId/ports/$portId" action.inherit="false"/>
                                                </item>
                                                <item guid="4aca272b-6e87-43fa-83ec-467b998c72bf" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>set portStatus &quot;online&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="4313e78b-a777-483e-8efe-c1612040d86f" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>-action createJson -documentName phyLinkObject -fromFile false -jsonString {&quot;PhyLink&quot;:$phyLink}</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">createJson</action>
                                                        <jsonString inherit="false" sub="true">{&quot;PhyLink&quot;:$phyLink}</jsonString>
                                                        <documentName inherit="false">phyLinkObject</documentName>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="317b3f7d-68e7-4d7a-b4ad-5e80d9ec318e" action="for" useFieldsInCommand="false">
                                                    <command>
                                                        <body>{set lane 1} {$lane &lt; 5} {incr lane}</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="6dd07fe1-d6a8-4841-a9bb-67eb3a7178d6" action="comment" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Update 4 Lanes status</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="85f6afbb-f91d-4f30-a1ed-eb08007f4e91" action="call" useFieldsInCommand="false">
                                                            <command>
                                                                <body>getPortLaneStatus -laneId $lane -phyLinkStatus $phyLinkObject</body>
                                                            </command>
                                                            <postProcessing>
                                                                <storeResponseAt>portLaneStatus</storeResponseAt>
                                                                <storeResponseText>true</storeResponseText>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="b6baa8a1-1466-4d28-a593-d41d5b9dc14b" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>$portLaneStatus == &quot;offline&quot;</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="621088a2-d7eb-4c53-8d26-c4020304484b" action="then" useFieldsInCommand="false">
                                                                    <nestedSteps>
                                                                        <item guid="eb28fcba-c32a-4462-83b7-6759b85d8f3c" action="comment" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>Port status is &quot;offline&quot; if having a lane is offline</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="eb76b36f-dc7b-4fa3-877d-a0b83c732ebc" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>set portStatus &quot;offline&quot;</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="92e244d9-c4c3-452f-97f3-deab6eb5659c" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>$id &lt; 10</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="0fb8acc1-2446-449e-90c8-2251916a12cd" action="then" useFieldsInCommand="false">
                                                                    <nestedSteps>
                                                                        <item guid="7e109567-80ba-4884-a2be-6aabf409ebcc" action="comment" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>Port name should follow syntax 0X if X &lt; 10</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="47010549-6d97-4f8b-89b8-b5470f73b2ac" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>set portName $slot.0$id:$lane</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="968fa12d-41d9-4571-bf2d-1c975d7bbba1" action="else" useFieldsInCommand="false">
                                                                    <nestedSteps>
                                                                        <item guid="9b7882fb-7768-4156-9913-ff0ff69ca6ea" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>set portName $slot.$id:$lane</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="8c390da9-4f9b-4625-bb87-16255f21cd34" action="comment" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Add card.port:lane information</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="2f0ed524-f084-4ed6-a2fa-608e8cb64b9b" action="json" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>-action addJsonNode -editResponseStructure true -pathValue {&quot;ports/\\[0\\]&quot;:\\[{&quot;name&quot;:&quot;$portName&quot;,&quot;status&quot;:&quot;$portLaneStatus&quot;}\\]}</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                        <action inherit="false">addJsonNode</action>
                                                                        <pathValue inherit="false" sub="true">{&quot;ports/\\[0\\]&quot;:\\[{&quot;name&quot;:&quot;$portName&quot;,&quot;status&quot;:&quot;$portLaneStatus&quot;}\\]}</pathValue>
                                                                        <editResponseStructure inherit="false">true</editResponseStructure>
                                                                    </applicationProperties>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="8108aab1-af25-42d4-aa19-e08cce2940a1" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Add card.port information</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="d01f9bcc-badc-49d7-bd0e-00069e5524fe" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>$id &lt; 10</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="1a97670b-1660-4f32-8057-9076d9dd84f1" action="then" useFieldsInCommand="false">
                                                                    <nestedSteps>
                                                                        <item guid="8dad0083-2e1a-4f77-b500-dd55728b6a7b" action="comment" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>Port name should follow syntax 0X if X &lt; 10</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="442e3e90-63e0-4ac9-ba57-7b12c02a3ac4" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>set portName $slot.0$id</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="096a1159-7347-4d9e-ae6d-9d65b2574d41" action="else" useFieldsInCommand="false">
                                                                    <nestedSteps>
                                                                        <item guid="3ce69d39-5b5a-47df-b2e4-a37264d0d4db" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>set portName $slot.$id</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="d9a58c39-ec2c-46b6-8dc0-af36652a0c2e" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>-action addJsonNode -editResponseStructure true -pathValue {&quot;ports/\\[0\\]&quot;:\\[{&quot;name&quot;:&quot;$portName&quot;,&quot;status&quot;:&quot;$portStatus&quot;}\\]}</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">addJsonNode</action>
                                                                <pathValue inherit="false" sub="true">{&quot;ports/\\[0\\]&quot;:\\[{&quot;name&quot;:&quot;$portName&quot;,&quot;status&quot;:&quot;$portStatus&quot;}\\]}</pathValue>
                                                                <editResponseStructure inherit="false">true</editResponseStructure>
                                                                <documentName inherit="false" sub="true">jsonDoc</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <response>{&quot;ports&quot;:[]}</response>
        </item>
        <item name="connect" isPublic="true" defaultSessionProfile="application:com.fnfr.itest.applications.webservices.restful">
            <steps>
                <item guid="a8a71a41-243b-42ba-950d-ee053e66d639" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>POST /chassis/do/map</body>
                    </command>
                    <nestedSteps>
                        <item guid="0277a9e0-6aa5-4288-937e-ebc750e317a4" action="call" useFieldsInCommand="false">
                            <command>
                                <body>getMappingDirection -direction $direction</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>mappingDirection</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="33bed1ef-457b-47d7-8fd4-803158850153" action="POST" session="[param session]">
                            <command>
                                <body>chassis/do/map</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>&quot;Error&quot;</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set error 1</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set error 0</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>errorResponse</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <eventHandlers>
                                <item name="OnStepTimeout">
                                    <item actionId="DeclareExecutionIssue">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                            <message>Step has timed out.</message>
                                        </actionProperties>
                                    </item>
                                    <item actionId="FailTest">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                    <item actionId="AbortExecution">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                </item>
                            </eventHandlers>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" action="chassis/do/map" action.inherit="false">
                                <message inherit="false">{
  &quot;Direction&quot;: $mappingDirection,
  &quot;Pairs&quot;: \\[
    {
      &quot;A&quot;: &quot;$firstPort&quot;,
      &quot;B&quot;: &quot;$secondPort&quot;
    }
  \\]
}</message>
                            </applicationProperties>
                        </item>
                        <item guid="66e4430d-3900-40c9-bc2f-bcee4685be3f" action="if" useFieldsInCommand="false">
                            <command>
                                <body>$error == 1</body>
                            </command>
                            <nestedSteps>
                                <item guid="cf4378a5-7f5a-4fb3-af0b-193a2fae4af2" action="then" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="9144a12f-9345-4baf-90b0-440c0b4ed8dc" action="close" session="[param session]">
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="none">
                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>true</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                            <message>$errorResponse</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="FailTest">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                    <item actionId="AbortExecution">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="e5b9c80a-56f4-4c52-a843-67a3ff68a238" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="b0c313ac-a7ee-4d87-9f9e-1d032be7785c" action="POST" session="[param session]" estimatedStepExecutionTime="0.645">
                                            <command>
                                                <body>system/do/save</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="POST" httpMethod.inherit="false" action="system/do/save" action.inherit="false">
                                                <message inherit="false">{
\t&quot;Filename&quot;:&quot;velocity_driver_configuration&quot;
}</message>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="firstPort"/>
                <item name="secondPort"/>
                <item name="direction"/>
            </arguments>
            <response>{}</response>
        </item>
        <item name="disconnect" isPublic="true" defaultSessionProfile="application:com.fnfr.itest.applications.webservices.restful">
            <steps>
                <item guid="82c92014-278c-4ef2-b30c-9719f8a99d67" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>POST /chassis/do/unmap</body>
                    </command>
                    <nestedSteps>
                        <item guid="21eec059-ffbe-4a4a-8e6d-013de5717926" action="call" useFieldsInCommand="false">
                            <command>
                                <body>getMappingDirection -direction $direction</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>mappingDirection</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="8d764ff1-18ad-437b-9842-046e7316e9e7" action="POST" session="[param session]">
                            <command>
                                <body>chassis/do/unmap</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>&quot;Error&quot;</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set error 1</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set error 0</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>errorResponse</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <eventHandlers>
                                <item name="OnStepTimeout">
                                    <item actionId="DeclareExecutionIssue">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                            <message>Step has timed out.</message>
                                        </actionProperties>
                                    </item>
                                    <item actionId="FailTest">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                    <item actionId="AbortExecution">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                </item>
                            </eventHandlers>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" action="chassis/do/unmap" action.inherit="false">
                                <message inherit="false">{
  &quot;Direction&quot;: $mappingDirection,
  &quot;Pairs&quot;: \\[
    {
      &quot;A&quot;: &quot;$firstPort&quot;,
      &quot;B&quot;: &quot;$secondPort&quot;
    }
  \\]
}</message>
                            </applicationProperties>
                        </item>
                        <item guid="a9e13b86-ce80-4ecc-9337-e783e3ec2682" action="if" useFieldsInCommand="false">
                            <command>
                                <body>$error == 1</body>
                            </command>
                            <nestedSteps>
                                <item guid="00edc47a-86a2-41bd-a0c2-e7e68a3fc9be" action="then" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="b755241b-1533-4e81-a225-1e443f44bf5d" action="close" session="[param session]">
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="none">
                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>true</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                            <message>$errorResponse</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="FailTest">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                    <item actionId="AbortExecution">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="bcf93e5a-e014-4c84-98a5-503df86717f7" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="324a0f05-b9ba-41e8-abde-65a904149ff5" action="POST" session="[param session]" estimatedStepExecutionTime="0.645">
                                            <command>
                                                <body>system/do/save</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="POST" httpMethod.inherit="false" action="system/do/save" action.inherit="false">
                                                <message inherit="false">{
\t&quot;Filename&quot;:&quot;velocity_driver_configuration&quot;
}</message>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="firstPort"/>
                <item name="secondPort"/>
                <item name="direction"/>
            </arguments>
            <response>{}</response>
        </item>
        <item name="getHostParameter">
            <steps>
                <item guid="119cb51a-4a5a-4c81-81bf-c986f450eba5" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>set host &quot;&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="16c25450-cedb-4b11-be87-aa51010c242c" action="if" useFieldsInCommand="false">
                    <command>
                        <body>[info exists param property_ipAddress] == 1</body>
                    </command>
                    <nestedSteps>
                        <item guid="c1a6977f-35da-46ee-92fb-e03185feb39b" action="then" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="62232bf5-d893-4694-874a-3c967dc3f53c" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>[param property_ipAddress] != &quot;&quot;</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="98336dc6-df97-4260-a083-802e0779c408" action="then" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="f15aadc4-ee35-4481-a21e-9473d022d2a5" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>set host [param property_ipAddress]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="399daaf0-3bc3-401e-85e7-a227831b026d" action="if" useFieldsInCommand="false">
                    <command>
                        <body>$host == &quot;&quot; &amp;&amp; [info exists param property_Hostname]</body>
                    </command>
                    <nestedSteps>
                        <item guid="683fd87d-885a-447c-97af-c01454711e6c" action="then" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="7ad681fc-22cb-429c-8801-b7a53a339e9d" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>[param property_Hostname] != &quot;&quot;</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="c8efdc1a-efc6-4728-882e-5ab2212e8444" action="then" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="ba0661d5-0bbd-4dfb-8c13-d866aaa3ce5e" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>set host [param property_Hostname]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="4a5da593-4911-4d8c-93de-784d08353823" action="if" useFieldsInCommand="false">
                    <command>
                        <body>$host == &quot;&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="a7ecafc1-8cbe-4a2e-bbf2-811517c8606b" action="then" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="912771e6-5567-479c-8a98-9080dc558c36" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Parameter ipAddress or Hostname should be specified</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="none">
                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>1 == 1</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                    <message>Parameter ipAddress or Hostname should be specified.</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="AbortExecution">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="8ceef076-4730-4a4a-8de1-b176447f2b50" action="return">
                    <command>
                        <body>$host</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
        </item>
        <item name="getPortModelingId">
            <steps>
                <item guid="d2e5e54b-865b-45ed-82c5-fc0e8a8fae0a" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get Port Modeling ID. Lanes 1-4 (0), Lane 1 (1), Lane 2 (2), Lane 3 (3), Lane 4 (4)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="8d3dfe66-df1f-4f68-a5b0-7d0e83c3e70f" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>set portModelingId &quot;0&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="1c201806-ff1b-4f15-9e1d-ca3a54fff6d9" action="if" useFieldsInCommand="false">
                    <command>
                        <body>[info exists param property_Port_Modeling] == 1</body>
                    </command>
                    <nestedSteps>
                        <item guid="3e4e4dab-8c9d-4596-9403-e8c60853d198" action="then" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="726419a0-6eee-4a21-b094-4691dc2beea8" action="switch" useFieldsInCommand="false">
                                    <command>
                                        <body>[param property_Port_Modeling]</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="e49a6e29-73be-404e-abdf-d34d1f53d6e5" action="case" useFieldsInCommand="false">
                                            <command>
                                                <body>&quot;Lane 1: Density Mode&quot;</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="7b7c449a-ce2b-4368-b7de-e6e789563de9" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Insert steps here for one case</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="86cea388-09a9-44c6-a43c-1be00b2c5968" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>set portModelingId &quot;1&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="ec1df984-5be4-48b9-8316-4ba6ab26e21c" action="case" useFieldsInCommand="false">
                                            <command>
                                                <body>&quot;Lane 2: Density Mode&quot;</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="cbb265f0-0539-49b3-ae6d-2c55adfe617d" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Insert steps here for one case</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="d428ccb1-2807-42fc-a3e4-50247ae8d0df" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>set portModelingId &quot;2&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="1b83bb62-6a05-4298-8578-b603da644997" action="case" useFieldsInCommand="false">
                                            <command>
                                                <body>&quot;Lane 3: Density Mode&quot;</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="a5286743-1f7d-49e7-b547-f528ef94395f" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Insert steps here for one case</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="14e9218c-f8a6-4011-b225-f9fadbf63d0f" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>set portModelingId &quot;3&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="c264c8f3-55c9-41bb-a5f0-576e6c671ddb" action="case" useFieldsInCommand="false">
                                            <command>
                                                <body>&quot;Lane 4: Density Mode&quot;</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="f6aa5f27-ed7b-4678-bfab-cfdb0848ef0a" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Insert steps here for one case</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="ad44626f-ef51-4b52-b331-93e01c88a423" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>set portModelingId &quot;4&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="26b57d6c-7c52-4c83-9918-3eecde653a82" action="return">
                    <command>
                        <body>$portModelingId</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <response>{}</response>
        </item>
        <item name="getPortLaneStatus">
            <steps>
                <item guid="9c1a0db0-5831-4b0f-b5f7-99999192d20d" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>set portLaneStatus &quot;online&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="b4aedf67-b0e8-4b0d-9ec4-72af62873498" action="if" useFieldsInCommand="false">
                    <command>
                        <body>$laneId &gt;= 1 &amp;&amp; $laneId &lt;= 4</body>
                    </command>
                    <nestedSteps>
                        <item guid="1ae6b999-4e2b-4ac9-97f9-47c0f08abbb8" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Get Lane Status. &quot;offline&quot; if PhyLink != &quot;UP&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="0fdbb0af-9c3f-4b2d-a37f-fb5094928f0b" action="then" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="890ad96c-6b9e-431d-8447-5e9504a8bd62" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>incr laneId -1</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="5a4e34fe-7681-4618-b180-d5eb5c80d451" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>-action getJsonNode -editResponseStructure false -documentName phyLinkStatus -pathValue {&quot;PhyLink/\\[$laneId\\]&quot;}</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>PhyLink()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>laneStatus</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">getJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;PhyLink/\\[$laneId\\]&quot;}</pathValue>
                                        <documentName inherit="false">phyLinkStatus</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="3397a12a-98bb-44b8-ab74-0840a180314b" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>$laneStatus != &quot;UP&quot;</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="71042c20-6ed7-410d-b394-ec0cbf66310b" action="then" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="a2d8d871-d934-45b6-8d4a-b366a41058c7" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Insert steps here for when expression is true</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="f836b0a4-a1d1-4057-9fb9-d44b2923824b" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>set portLaneStatus &quot;offline&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="7f3c75fb-7987-4ed3-8661-8a7ee7fc3779" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="6eb977c2-a6e1-4b82-9a27-278d858e1946" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>$laneId == 0</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="ad2b7719-8ab8-4e81-aeaa-542891379435" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Get Port Status. &quot;online&quot; if all lanes &quot;UP&quot;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="105a780b-ec75-4203-a21f-e241f10def5e" action="then" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="3193d15e-3c5e-499b-8aaf-551e228dcf7d" action="for" useFieldsInCommand="false">
                                                    <command>
                                                        <body>{set laneIndex 0} {$laneIndex &lt; 4} {incr laneIndex}</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="e4e320c5-836e-44b9-8ec6-32ed5dc7d4c2" action="comment" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Insert steps here to be executed on each loop</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="1d721da0-b0b5-4a53-97cc-5e4e8444d21e" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>-action getJsonNode -editResponseStructure false -documentName phyLinkStatus -pathValue {&quot;PhyLink/\\[$laneIndex\\]&quot;}</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>PhyLink()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>laneStatus</storageLocation>
                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">getJsonNode</action>
                                                                <pathValue inherit="false" sub="true">{&quot;PhyLink/\\[$laneIndex\\]&quot;}</pathValue>
                                                                <documentName inherit="false">phyLinkStatus</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="654ebbcd-8d6e-4aec-b0e5-d6315f5451a4" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>$laneStatus != &quot;UP&quot;</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="7d951589-c925-4f4a-9525-a0ca313b2db0" action="then" useFieldsInCommand="false">
                                                                    <nestedSteps>
                                                                        <item guid="f0628cfa-0d6d-4eb4-b12e-b6a4c41670ed" action="comment" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>Insert steps here for when expression is true</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="02085c87-20d4-41ee-a11e-8ecf3b0d5b0f" action="return">
                                                                            <command>
                                                                                <body>offline</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="0d01b17b-ce6e-45ec-bf9a-43443ea66e20" action="return">
                    <command>
                        <body>$portLaneStatus</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="laneId">
                    <description>Lane ID: 1/2/3/4</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="phyLinkStatus">
                    <description>PhyLink status: [&quot;UP&quot;,&quot;UP&quot;,&quot;UP&quot;,&quot;UP&quot;]</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{}</response>
        </item>
        <item name="getMappingDirection">
            <steps>
                <item guid="7ea1b0a1-21de-40a3-91eb-5d55c7deb67c" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get Mapping Direction. &quot;OneWay&quot; (to) or &quot;TwoWay&quot; (bidir)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="515ca4c1-291d-46bb-8b09-79832feb8f7e" action="if" useFieldsInCommand="false">
                    <command>
                        <body>$direction == &quot;bidir&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="8d4c9a24-72b4-497b-8b56-c453d31e1125" action="then" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="4a2b1e4c-43be-4894-aa5b-c426789af371" action="message">
                                    <command>
                                        <body>Information:Mapping Direction: \\&quot;TwoWay\\&quot; (\\$direction)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                        <message inherit="false">Mapping Direction: &quot;TwoWay&quot; ($direction)</message>
                                    </applicationProperties>
                                </item>
                                <item guid="5c12f8ac-4dc8-46c7-8771-15bf205601a4" action="return">
                                    <command>
                                        <body>&quot;TwoWay&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="39328ede-4c10-45b0-80d5-74cd98fe9cd5" action="message">
                    <command>
                        <body>Information:Mapping Direction: \\&quot;OneWay\\&quot; (\\$direction)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                        <message inherit="false">Mapping Direction: &quot;OneWay&quot; ($direction)</message>
                    </applicationProperties>
                </item>
                <item guid="5d92910f-c656-4f80-886c-d914c539c810" action="return">
                    <command>
                        <body>&quot;OneWay&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="direction">
                    <description>Direction: (bidir) or (to)</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
            <response>{}</response>
        </item>
    </procedures>
</testCase>
